{
  "name": "admin-panel",
  "code": "const books = $app.findRecordsByFilter('books', '', '-created', 10, 0);\nconst orders = $app.findRecordsByFilter('orders', '', '-created', 10, 0);\n\nconst html = `\n<!DOCTYPE html>\n<html>\n<head>\n    <title>üìä Admin Panel</title>\n    <style>\n        body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }\n        .container { max-width: 1200px; margin: 0 auto; background: white; padding: 30px; border-radius: 10px; }\n        .header { background: #e74c3c; color: white; padding: 20px; border-radius: 8px; text-align: center; margin-bottom: 30px; }\n        .stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px; }\n        .stat-card { background: #ecf0f1; padding: 20px; border-radius: 8px; text-align: center; }\n        .stat-number { font-size: 2em; font-weight: bold; color: #e74c3c; }\n        .section { margin-bottom: 30px; }\n        .section h2 { color: #2c3e50; border-bottom: 2px solid #e74c3c; padding-bottom: 10px; }\n        table { width: 100%; border-collapse: collapse; margin-top: 20px; }\n        th, td { padding: 12px; text-align: left; border-bottom: 1px solid #ddd; }\n        th { background: #f8f9fa; }\n        .status { padding: 4px 12px; border-radius: 20px; font-size: 0.8em; }\n        .status-pending { background: #ffeaa7; color: #d63031; }\n        .status-processing { background: #74b9ff; color: white; }\n        .nav a { color: #e74c3c; text-decoration: none; margin-right: 20px; }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <div class=\"header\">\n            <h1>üìä Admin Dashboard</h1>\n            <p><a href=\"/bookstore\" style=\"color: white;\">‚Üê Back to Store</a></p>\n        </div>\n        \n        <div class=\"stats\">\n            <div class=\"stat-card\">\n                <div class=\"stat-number\">${books.length}</div>\n                <div>Books</div>\n            </div>\n            <div class=\"stat-card\">\n                <div class=\"stat-number\">${orders.length}</div>\n                <div>Orders</div>\n            </div>\n            <div class=\"stat-card\">\n                <div class=\"stat-number\">${books.reduce((sum, book) => sum + book.stock, 0)}</div>\n                <div>Total Stock</div>\n            </div>\n        </div>\n        \n        <div class=\"section\">\n            <h2>üì¶ Recent Orders</h2>\n            <table>\n                <tr><th>Order ID</th><th>Total</th><th>Status</th><th>Date</th></tr>\n                ${orders.map(order => `\n                    <tr>\n                        <td>${order.id.slice(0, 8)}...</td>\n                        <td>$${order.total_amount}</td>\n                        <td><span class=\"status status-${order.status}\">${order.status}</span></td>\n                        <td>${new Date(order.created).toLocaleDateString()}</td>\n                    </tr>\n                `).join('')}\n            </table>\n        </div>\n        \n        <div class=\"section\">\n            <h2>üìö Books Inventory</h2>\n            <table>\n                <tr><th>Title</th><th>Author</th><th>Price</th><th>Stock</th></tr>\n                ${books.map(book => `\n                    <tr>\n                        <td>${book.title}</td>\n                        <td>${book.author}</td>\n                        <td>$${book.price}</td>\n                        <td>${book.stock}</td>\n                    </tr>\n                `).join('')}\n            </table>\n        </div>\n    </div>\n</body>\n</html>\n`;\n\nreturn { body: html, headers: { 'Content-Type': 'text/html' }, status: 200 };",
  "enabled": true,
  "timeout": 5000,
  "triggers": {
    "type": "http", 
    "method": "GET", 
    "path": "/admin"
  },
  "contentType": "text/html",
  "description": "Admin panel for managing books and orders"
}
