{
  "name": "bookstore-homepage",
  "code": "// Bookstore Homepage\nconst books = $app.findRecordsByFilter(\"books\", \"\", \"-created\", 50, 0);\n\nconst html = `\n<!DOCTYPE html>\n<html>\n<head>\n    <title>üìö Amazing Bookstore</title>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <style>\n        * { margin: 0; padding: 0; box-sizing: border-box; }\n        body {\n            font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif;\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n            min-height: 100vh;\n            padding: 20px;\n        }\n        .container {\n            max-width: 1200px;\n            margin: 0 auto;\n            background: white;\n            border-radius: 15px;\n            box-shadow: 0 20px 40px rgba(0,0,0,0.1);\n            overflow: hidden;\n        }\n        .header {\n            background: linear-gradient(135deg, #2c3e50, #3498db);\n            color: white;\n            padding: 30px;\n            text-align: center;\n        }\n        .header h1 {\n            font-size: 2.5em;\n            margin-bottom: 10px;\n        }\n        .nav {\n            background: #34495e;\n            padding: 15px 30px;\n            display: flex;\n            gap: 20px;\n            flex-wrap: wrap;\n        }\n        .nav a {\n            color: white;\n            text-decoration: none;\n            padding: 10px 20px;\n            border-radius: 5px;\n            transition: background 0.3s;\n        }\n        .nav a:hover {\n            background: #2c3e50;\n        }\n        .books-grid {\n            display: grid;\n            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n            gap: 25px;\n            padding: 30px;\n        }\n        .book-card {\n            border: 1px solid #ddd;\n            border-radius: 10px;\n            padding: 20px;\n            background: #f9f9f9;\n            transition: transform 0.3s, box-shadow 0.3s;\n        }\n        .book-card:hover {\n            transform: translateY(-5px);\n            box-shadow: 0 15px 30px rgba(0,0,0,0.1);\n        }\n        .book-title {\n            font-size: 1.3em;\n            font-weight: bold;\n            color: #2c3e50;\n            margin-bottom: 8px;\n        }\n        .book-author {\n            color: #7f8c8d;\n            margin-bottom: 10px;\n        }\n        .book-category {\n            background: #3498db;\n            color: white;\n            padding: 4px 12px;\n            border-radius: 20px;\n            font-size: 0.8em;\n            display: inline-block;\n            margin-bottom: 10px;\n        }\n        .book-description {\n            color: #555;\n            margin-bottom: 15px;\n            line-height: 1.4;\n        }\n        .book-price {\n            font-size: 1.4em;\n            font-weight: bold;\n            color: #27ae60;\n        }\n        .stock {\n            color: #7f8c8d;\n            font-size: 0.9em;\n        }\n        .order-btn {\n            background: #e74c3c;\n            color: white;\n            border: none;\n            padding: 10px 20px;\n            border-radius: 5px;\n            cursor: pointer;\n            margin-top: 10px;\n            transition: background 0.3s;\n        }\n        .order-btn:hover {\n            background: #c0392b;\n        }\n        .stats {\n            background: #ecf0f1;\n            padding: 20px 30px;\n            text-align: center;\n            color: #2c3e50;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <div class=\"header\">\n            <h1>üìö Amazing Bookstore</h1>\n            <p>Discover your next great read!</p>\n        </div>\n        \n        <div class=\"nav\">\n            <a href=\"/bookstore\">üè† Home</a>\n            <a href=\"/admin\">‚öôÔ∏è Admin Panel</a>\n            <a href=\"/orders\">üì¶ Orders</a>\n            <a href=\"/api/collections/books/records\">üìä API</a>\n        </div>\n        \n        <div class=\"stats\">\n            <strong>${books.length} Books Available</strong> | \n            <strong>${books.reduce((sum, book) => sum + book.stock, 0)} Total Stock</strong>\n        </div>\n        \n        <div class=\"books-grid\">\n            ${books.map(book => `\n                <div class=\"book-card\">\n                    <div class=\"book-title\">${book.title}</div>\n                    <div class=\"book-author\">by ${book.author}</div>\n                    <div class=\"book-category\">${book.category}</div>\n                    <div class=\"book-description\">${book.description || \"No description available\"}</div>\n                    <div class=\"book-price\">$${book.price}</div>\n                    <div class=\"stock\">${book.stock} in stock</div>\n                    <button class=\"order-btn\" onclick=\"orderBook(\\\"${book.id}\\\", \\\"${book.title}\\\")\">üìö Order Now</button>\n                </div>\n            `).join(\"\")}\n        </div>\n    </div>\n    \n    <script>\n        function orderBook(bookId, title) {\n            const quantity = prompt(`How many copies of \"${title}\" would you like to order?`, \"1\");\n            if (quantity && quantity > 0) {\n                // In a real app, this would create an order\n                alert(`Great! You've ordered ${quantity} copy(ies) of \"${title}\". Check the admin panel to manage orders.`);\n            }\n        }\n    </script>\n</body>\n</html>\n`;\n\nreturn {\n    body: html,\n    headers: { \"Content-Type\": \"text/html\" },\n    status: 200\n};",
  "enabled": true,
  "timeout": 5000,
  "triggers": [{"type": "http", "method": "GET", "path": "/bookstore"}],
  "contentType": "text/html",
  "description": "Main bookstore homepage showing all available books"
}
