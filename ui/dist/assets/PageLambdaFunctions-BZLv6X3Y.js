const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CodeEditor-CofiZoN3.js","./index-DAuJCKg0.js","./index-jwhZKQ23.css","./index-kXABCv8h.js"])))=>i.map(i=>d[i]);
import{S as Ie,i as Ue,s as je,O as We,d as K,t as B,a as A,m as Q,c as Y,L as ze,M as Nt,_ as Ot,h as k,j as ye,I as re,C as De,D as Me,l as w,n as a,o as J,u as f,A as R,v as $,w as u,p as Ne,K as Ge,b as Pe,N as Ht,P as Xe,y as Oe,Q as Ke,H as Ce,f as we,R as Le,T as Be,z as U,U as Ae,V as Qe,W as Ye,X as at,Y as ot,Z as Pt,k as Se,$ as St,a0 as Dt,a1 as Mt,J as Fe,a2 as Ft,a3 as At,a4 as Jt,x as qt,a5 as rt}from"./index-DAuJCKg0.js";function ut(l,e,t){const s=l.slice();return s[46]=e[t],s[47]=e,s[48]=t,s}function ft(l,e,t){const s=l.slice();return s[49]=e[t],s[50]=e,s[48]=t,s}function ct(l,e,t){const s=l.slice();return s[49]=e[t],s[51]=e,s[48]=t,s}function dt(l,e,t){const s=l.slice();return s[49]=e[t],s[52]=e,s[48]=t,s}function Rt(l){let e,t,s,i,n,o,r,c,d,_,b,p,h,v,L,y,N,O,F,S,D,V,j,H,M,G,ee,C,I,fe,te,z,ce,He,ne,$e,he,se,ue,ie,ge,ke,Te,de,Ee;s=new we({props:{class:"form-field required",name:"name",$$slots:{default:[Bt,({uniqueId:m})=>({53:m}),({uniqueId:m})=>[0,m?4194304:0]]},$$scope:{ctx:l}}}),o=new we({props:{class:"form-field",name:"description",$$slots:{default:[Gt,({uniqueId:m})=>({53:m}),({uniqueId:m})=>[0,m?4194304:0]]},$$scope:{ctx:l}}}),d=new we({props:{class:"form-field",name:"enabled",$$slots:{default:[It,({uniqueId:m})=>({53:m}),({uniqueId:m})=>[0,m?4194304:0]]},$$scope:{ctx:l}}}),p=new we({props:{class:"form-field required",name:"timeout",$$slots:{default:[Ut,({uniqueId:m})=>({53:m}),({uniqueId:m})=>[0,m?4194304:0]]},$$scope:{ctx:l}}}),L=new we({props:{class:"form-field",name:"contentType",$$slots:{default:[jt,({uniqueId:m})=>({53:m}),({uniqueId:m})=>[0,m?4194304:0]]},$$scope:{ctx:l}}}),O=new we({props:{class:"form-field required",name:"code",$$slots:{default:[zt,({uniqueId:m})=>({53:m}),({uniqueId:m})=>[0,m?4194304:0]]},$$scope:{ctx:l}}});let pe=Le(l[5]),X=[];for(let m=0;m<pe.length;m+=1)X[m]=pt(dt(l,pe,m));const oe=m=>B(X[m],1,1,()=>{X[m]=null});let E=Le(l[6]),P=[];for(let m=0;m<E.length;m+=1)P[m]=_t(ct(l,E,m));const be=m=>B(P[m],1,1,()=>{P[m]=null});let _e=Le(l[7]),W=[];for(let m=0;m<_e.length;m+=1)W[m]=bt(ft(l,_e,m));const ae=m=>B(W[m],1,1,()=>{W[m]=null});let le=Le(l[8]),Z=[];for(let m=0;m<le.length;m+=1)Z[m]=mt(ut(l,le,m));const ve=m=>B(Z[m],1,1,()=>{Z[m]=null});return{c(){e=f("div"),t=f("div"),Y(s.$$.fragment),i=$(),n=f("div"),Y(o.$$.fragment),r=$(),c=f("div"),Y(d.$$.fragment),_=$(),b=f("div"),Y(p.$$.fragment),h=$(),v=f("div"),Y(L.$$.fragment),y=$(),N=f("div"),Y(O.$$.fragment),F=$(),S=f("div"),D=f("label"),V=R(`HTTP Triggers
                        `),j=f("button"),j.innerHTML='<i class="ri-add-line"></i>',H=$();for(let m=0;m<X.length;m+=1)X[m].c();M=$(),G=f("div"),ee=f("label"),C=R(`Database Triggers
                        `),I=f("button"),I.innerHTML='<i class="ri-add-line"></i>',fe=$();for(let m=0;m<P.length;m+=1)P[m].c();te=$(),z=f("div"),ce=f("label"),He=R(`Cron Triggers
                        `),ne=f("button"),ne.innerHTML='<i class="ri-add-line"></i>',$e=$();for(let m=0;m<W.length;m+=1)W[m].c();he=$(),se=f("div"),ue=f("label"),ie=R(`Environment Variables
                        `),ge=f("button"),ge.innerHTML='<i class="ri-add-line"></i>',ke=$();for(let m=0;m<Z.length;m+=1)Z[m].c();u(t,"class","col-12"),u(n,"class","col-12"),u(c,"class","col-6"),u(b,"class","col-6"),u(v,"class","col-6"),u(N,"class","col-12"),u(j,"type","button"),u(j,"class","btn btn-xs btn-circle btn-outline"),u(j,"title","Add HTTP trigger"),u(D,"class","field-group svelte-x5gssc"),u(S,"class","col-12"),u(I,"type","button"),u(I,"class","btn btn-xs btn-circle btn-outline"),u(I,"title","Add database trigger"),u(ee,"class","field-group svelte-x5gssc"),u(G,"class","col-12"),u(ne,"type","button"),u(ne,"class","btn btn-xs btn-circle btn-outline"),u(ne,"title","Add cron trigger"),u(ce,"class","field-group svelte-x5gssc"),u(z,"class","col-12"),u(ge,"type","button"),u(ge,"class","btn btn-xs btn-circle btn-outline"),u(ge,"title","Add environment variable"),u(ue,"class","field-group svelte-x5gssc"),u(se,"class","col-12"),u(e,"class","grid")},m(m,T){w(m,e,T),a(e,t),Q(s,t,null),a(e,i),a(e,n),Q(o,n,null),a(e,r),a(e,c),Q(d,c,null),a(e,_),a(e,b),Q(p,b,null),a(e,h),a(e,v),Q(L,v,null),a(e,y),a(e,N),Q(O,N,null),a(e,F),a(e,S),a(S,D),a(D,V),a(D,j),a(S,H);for(let x=0;x<X.length;x+=1)X[x]&&X[x].m(S,null);a(e,M),a(e,G),a(G,ee),a(ee,C),a(ee,I),a(G,fe);for(let x=0;x<P.length;x+=1)P[x]&&P[x].m(G,null);a(e,te),a(e,z),a(z,ce),a(ce,He),a(ce,ne),a(z,$e);for(let x=0;x<W.length;x+=1)W[x]&&W[x].m(z,null);a(e,he),a(e,se),a(se,ue),a(ue,ie),a(ue,ge),a(se,ke);for(let x=0;x<Z.length;x+=1)Z[x]&&Z[x].m(se,null);Te=!0,de||(Ee=[J(j,"click",l[12]),J(I,"click",l[14]),J(ne,"click",l[16]),J(ge,"click",l[19])],de=!0)},p(m,T){const x={};T[0]&2|T[1]&12582912&&(x.$$scope={dirty:T,ctx:m}),s.$set(x);const Je={};T[0]&2|T[1]&12582912&&(Je.$$scope={dirty:T,ctx:m}),o.$set(Je);const qe={};T[0]&2|T[1]&12582912&&(qe.$$scope={dirty:T,ctx:m}),d.$set(qe);const Re={};T[0]&2|T[1]&12582912&&(Re.$$scope={dirty:T,ctx:m}),p.$set(Re);const Ve={};T[0]&2|T[1]&12582912&&(Ve.$$scope={dirty:T,ctx:m}),L.$set(Ve);const q={};if(T[0]&18|T[1]&12582912&&(q.$$scope={dirty:T,ctx:m}),O.$set(q),T[0]&10272){pe=Le(m[5]);let g;for(g=0;g<pe.length;g+=1){const me=dt(m,pe,g);X[g]?(X[g].p(me,T),A(X[g],1)):(X[g]=pt(me),X[g].c(),A(X[g],1),X[g].m(S,null))}for(De(),g=pe.length;g<X.length;g+=1)oe(g);Me()}if(T[0]&34880){E=Le(m[6]);let g;for(g=0;g<E.length;g+=1){const me=ct(m,E,g);P[g]?(P[g].p(me,T),A(P[g],1)):(P[g]=_t(me),P[g].c(),A(P[g],1),P[g].m(G,null))}for(De(),g=E.length;g<P.length;g+=1)be(g);Me()}if(T[0]&133248){_e=Le(m[7]);let g;for(g=0;g<_e.length;g+=1){const me=ft(m,_e,g);W[g]?(W[g].p(me,T),A(W[g],1)):(W[g]=bt(me),W[g].c(),A(W[g],1),W[g].m(z,null))}for(De(),g=_e.length;g<W.length;g+=1)ae(g);Me()}if(T[0]&1310976){le=Le(m[8]);let g;for(g=0;g<le.length;g+=1){const me=ut(m,le,g);Z[g]?(Z[g].p(me,T),A(Z[g],1)):(Z[g]=mt(me),Z[g].c(),A(Z[g],1),Z[g].m(se,null))}for(De(),g=le.length;g<Z.length;g+=1)ve(g);Me()}},i(m){if(!Te){A(s.$$.fragment,m),A(o.$$.fragment,m),A(d.$$.fragment,m),A(p.$$.fragment,m),A(L.$$.fragment,m),A(O.$$.fragment,m);for(let T=0;T<pe.length;T+=1)A(X[T]);for(let T=0;T<E.length;T+=1)A(P[T]);for(let T=0;T<_e.length;T+=1)A(W[T]);for(let T=0;T<le.length;T+=1)A(Z[T]);Te=!0}},o(m){B(s.$$.fragment,m),B(o.$$.fragment,m),B(d.$$.fragment,m),B(p.$$.fragment,m),B(L.$$.fragment,m),B(O.$$.fragment,m),X=X.filter(Boolean);for(let T=0;T<X.length;T+=1)B(X[T]);P=P.filter(Boolean);for(let T=0;T<P.length;T+=1)B(P[T]);W=W.filter(Boolean);for(let T=0;T<W.length;T+=1)B(W[T]);Z=Z.filter(Boolean);for(let T=0;T<Z.length;T+=1)B(Z[T]);Te=!1},d(m){m&&k(e),K(s),K(o),K(d),K(p),K(L),K(O),Be(X,m),Be(P,m),Be(W,m),Be(Z,m),de=!1,ye(Ee)}}}function Vt(l){let e;return{c(){e=f("div"),e.innerHTML='<span class="loader"></span>',u(e,"class","block txt-center")},m(t,s){w(t,e,s)},p:Ce,i:Ce,o:Ce,d(t){t&&k(e)}}}function Bt(l){let e,t,s,i,n,o,r,c;return{c(){e=f("label"),t=R("Name"),i=$(),n=f("input"),u(e,"for",s=l[53]),u(n,"type","text"),u(n,"id",o=l[53]),n.required=!0,u(n,"placeholder","my-function")},m(d,_){w(d,e,_),a(e,t),w(d,i,_),w(d,n,_),U(n,l[1].name),r||(c=J(n,"input",l[23]),r=!0)},p(d,_){_[1]&4194304&&s!==(s=d[53])&&u(e,"for",s),_[1]&4194304&&o!==(o=d[53])&&u(n,"id",o),_[0]&2&&n.value!==d[1].name&&U(n,d[1].name)},d(d){d&&(k(e),k(i),k(n)),r=!1,c()}}}function Gt(l){let e,t,s,i,n,o,r,c;return{c(){e=f("label"),t=R("Description"),i=$(),n=f("textarea"),u(e,"for",s=l[53]),u(n,"id",o=l[53]),u(n,"placeholder","Function description...")},m(d,_){w(d,e,_),a(e,t),w(d,i,_),w(d,n,_),U(n,l[1].description),r||(c=J(n,"input",l[24]),r=!0)},p(d,_){_[1]&4194304&&s!==(s=d[53])&&u(e,"for",s),_[1]&4194304&&o!==(o=d[53])&&u(n,"id",o),_[0]&2&&U(n,d[1].description)},d(d){d&&(k(e),k(i),k(n)),r=!1,c()}}}function It(l){let e,t,s,i,n,o,r,c;return{c(){e=f("input"),s=$(),i=f("label"),n=R("Enabled"),u(e,"type","checkbox"),u(e,"id",t=l[53]),u(i,"for",o=l[53])},m(d,_){w(d,e,_),e.checked=l[1].enabled,w(d,s,_),w(d,i,_),a(i,n),r||(c=J(e,"change",l[25]),r=!0)},p(d,_){_[1]&4194304&&t!==(t=d[53])&&u(e,"id",t),_[0]&2&&(e.checked=d[1].enabled),_[1]&4194304&&o!==(o=d[53])&&u(i,"for",o)},d(d){d&&(k(e),k(s),k(i)),r=!1,c()}}}function Ut(l){let e,t,s,i,n,o,r,c;return{c(){e=f("label"),t=R("Timeout (seconds)"),i=$(),n=f("input"),u(e,"for",s=l[53]),u(n,"type","number"),u(n,"id",o=l[53]),n.required=!0,u(n,"min","1"),u(n,"max","300")},m(d,_){w(d,e,_),a(e,t),w(d,i,_),w(d,n,_),U(n,l[1].timeout),r||(c=J(n,"input",l[26]),r=!0)},p(d,_){_[1]&4194304&&s!==(s=d[53])&&u(e,"for",s),_[1]&4194304&&o!==(o=d[53])&&u(n,"id",o),_[0]&2&&Ht(n.value)!==d[1].timeout&&U(n,d[1].timeout)},d(d){d&&(k(e),k(i),k(n)),r=!1,c()}}}function jt(l){let e,t,s,i,n,o,r,c,d,_,b,p,h,v,L,y,N,O;return{c(){e=f("label"),t=R("Default Content Type"),i=$(),n=f("select"),o=f("option"),o.textContent="Auto-detect",r=f("option"),r.textContent="Plain Text",c=f("option"),c.textContent="HTML",d=f("option"),d.textContent="JSON",_=f("option"),_.textContent="CSS",b=f("option"),b.textContent="JavaScript",p=f("option"),p.textContent="XML",h=f("option"),h.textContent="XML (text)",L=$(),y=f("div"),y.textContent="Sets the Content-Type header when not explicitly specified in function response",u(e,"for",s=l[53]),o.__value="auto",U(o,o.__value),r.__value="text/plain",U(r,r.__value),c.__value="text/html",U(c,c.__value),d.__value="application/json",U(d,d.__value),_.__value="text/css",U(_,_.__value),b.__value="application/javascript",U(b,b.__value),p.__value="application/xml",U(p,p.__value),h.__value="text/xml",U(h,h.__value),u(n,"id",v=l[53]),l[1].contentType===void 0&&Qe(()=>l[27].call(n)),u(y,"class","help-text")},m(F,S){w(F,e,S),a(e,t),w(F,i,S),w(F,n,S),a(n,o),a(n,r),a(n,c),a(n,d),a(n,_),a(n,b),a(n,p),a(n,h),Ae(n,l[1].contentType,!0),w(F,L,S),w(F,y,S),N||(O=J(n,"change",l[27]),N=!0)},p(F,S){S[1]&4194304&&s!==(s=F[53])&&u(e,"for",s),S[1]&4194304&&v!==(v=F[53])&&u(n,"id",v),S[0]&2&&Ae(n,F[1].contentType)},d(F){F&&(k(e),k(i),k(n),k(L),k(y)),N=!1,O()}}}function Xt(l){let e,t,s,i;return{c(){e=f("textarea"),u(e,"id",t=l[53]),e.required=!0,u(e,"placeholder","// Enter your JavaScript code here..."),u(e,"rows","10")},m(n,o){w(n,e,o),U(e,l[1].code),s||(i=J(e,"input",l[29]),s=!0)},p(n,o){o[1]&4194304&&t!==(t=n[53])&&u(e,"id",t),o[0]&2&&U(e,n[1].code)},i:Ce,o:Ce,d(n){n&&k(e),s=!1,i()}}}function Wt(l){let e,t,s,i;function n(c){l[28](c)}var o=l[4];function r(c,d){let _={language:"javascript",minHeight:300,placeholder:"// Enter your JavaScript code here..."};return c[1].code!==void 0&&(_.value=c[1].code),{props:_}}return o&&(e=at(o,r(l)),Oe.push(()=>ot(e,"value",n))),{c(){e&&Y(e.$$.fragment),s=Ye()},m(c,d){e&&Q(e,c,d),w(c,s,d),i=!0},p(c,d){if(d[0]&16&&o!==(o=c[4])){if(e){De();const _=e;B(_.$$.fragment,1,0,()=>{K(_,1)}),Me()}o?(e=at(o,r(c)),Oe.push(()=>ot(e,"value",n)),Y(e.$$.fragment),A(e.$$.fragment,1),Q(e,s.parentNode,s)):e=null}else if(o){const _={};!t&&d[0]&2&&(t=!0,_.value=c[1].code,Pt(()=>t=!1)),e.$set(_)}},i(c){i||(e&&A(e.$$.fragment,c),i=!0)},o(c){e&&B(e.$$.fragment,c),i=!1},d(c){c&&k(s),e&&K(e,c)}}}function zt(l){let e,t,s,i,n,o,r,c;const d=[Wt,Xt],_=[];function b(p,h){return p[4]?0:1}return n=b(l),o=_[n]=d[n](l),{c(){e=f("label"),t=R("JavaScript Code"),i=$(),o.c(),r=Ye(),u(e,"for",s=l[53])},m(p,h){w(p,e,h),a(e,t),w(p,i,h),_[n].m(p,h),w(p,r,h),c=!0},p(p,h){(!c||h[1]&4194304&&s!==(s=p[53]))&&u(e,"for",s);let v=n;n=b(p),n===v?_[n].p(p,h):(De(),B(_[v],1,1,()=>{_[v]=null}),Me(),o=_[n],o?o.p(p,h):(o=_[n]=d[n](p),o.c()),A(o,1),o.m(r.parentNode,r))},i(p){c||(A(o),c=!0)},o(p){B(o),c=!1},d(p){p&&(k(e),k(i),k(r)),_[n].d(p)}}}function Kt(l){let e,t,s,i,n,o,r,c;function d(){l[30].call(e,l[52],l[48])}return{c(){e=f("select"),t=f("option"),t.textContent="GET",s=f("option"),s.textContent="POST",i=f("option"),i.textContent="PUT",n=f("option"),n.textContent="PATCH",o=f("option"),o.textContent="DELETE",t.__value="GET",U(t,t.__value),s.__value="POST",U(s,s.__value),i.__value="PUT",U(i,i.__value),n.__value="PATCH",U(n,n.__value),o.__value="DELETE",U(o,o.__value),l[49].method===void 0&&Qe(d)},m(_,b){w(_,e,b),a(e,t),a(e,s),a(e,i),a(e,n),a(e,o),Ae(e,l[49].method,!0),r||(c=[J(e,"change",d),J(e,"change",l[11])],r=!0)},p(_,b){l=_,b[0]&32&&Ae(e,l[49].method)},d(_){_&&k(e),r=!1,ye(c)}}}function Qt(l){let e,t,s;function i(){l[31].call(e,l[52],l[48])}return{c(){e=f("input"),u(e,"type","text"),u(e,"placeholder","/api/my-endpoint")},m(n,o){w(n,e,o),U(e,l[49].path),t||(s=[J(e,"input",i),J(e,"input",l[11])],t=!0)},p(n,o){l=n,o[0]&32&&e.value!==l[49].path&&U(e,l[49].path)},d(n){n&&k(e),t=!1,ye(s)}}}function pt(l){let e,t,s,i,n,o,r,c,d,_,b;s=new we({props:{class:"form-field flex-1",name:"method_"+l[48],$$slots:{default:[Kt]},$$scope:{ctx:l}}}),n=new we({props:{class:"form-field flex-3",name:"path_"+l[48],$$slots:{default:[Qt]},$$scope:{ctx:l}}});function p(){return l[32](l[48])}return{c(){e=f("div"),t=f("div"),Y(s.$$.fragment),i=$(),Y(n.$$.fragment),o=$(),r=f("button"),r.innerHTML='<i class="ri-close-line"></i>',c=$(),u(r,"type","button"),u(r,"class","btn btn-xs btn-circle btn-hint"),u(r,"title","Remove"),u(t,"class","flex flex-gap-10"),u(e,"class","form-field-group")},m(h,v){w(h,e,v),a(e,t),Q(s,t,null),a(t,i),Q(n,t,null),a(t,o),a(t,r),a(e,c),d=!0,_||(b=J(r,"click",p),_=!0)},p(h,v){l=h;const L={};v[0]&32|v[1]&8388608&&(L.$$scope={dirty:v,ctx:l}),s.$set(L);const y={};v[0]&32|v[1]&8388608&&(y.$$scope={dirty:v,ctx:l}),n.$set(y)},i(h){d||(A(s.$$.fragment,h),A(n.$$.fragment,h),d=!0)},o(h){B(s.$$.fragment,h),B(n.$$.fragment,h),d=!1},d(h){h&&k(e),K(s),K(n),_=!1,b()}}}function Yt(l){let e,t,s;function i(){l[33].call(e,l[51],l[48])}return{c(){e=f("input"),u(e,"type","text"),u(e,"placeholder","collection_name")},m(n,o){w(n,e,o),U(e,l[49].collection),t||(s=[J(e,"input",i),J(e,"input",l[11])],t=!0)},p(n,o){l=n,o[0]&64&&e.value!==l[49].collection&&U(e,l[49].collection)},d(n){n&&k(e),t=!1,ye(s)}}}function Zt(l){let e,t,s,i,n,o;function r(){l[34].call(e,l[51],l[48])}return{c(){e=f("select"),t=f("option"),t.textContent="Create",s=f("option"),s.textContent="Update",i=f("option"),i.textContent="Delete",t.__value="create",U(t,t.__value),s.__value="update",U(s,s.__value),i.__value="delete",U(i,i.__value),l[49].event===void 0&&Qe(r)},m(c,d){w(c,e,d),a(e,t),a(e,s),a(e,i),Ae(e,l[49].event,!0),n||(o=[J(e,"change",r),J(e,"change",l[11])],n=!0)},p(c,d){l=c,d[0]&64&&Ae(e,l[49].event)},d(c){c&&k(e),n=!1,ye(o)}}}function _t(l){let e,t,s,i,n,o,r,c,d,_,b;s=new we({props:{class:"form-field flex-1",name:"collection_"+l[48],$$slots:{default:[Yt]},$$scope:{ctx:l}}}),n=new we({props:{class:"form-field flex-1",name:"event_"+l[48],$$slots:{default:[Zt]},$$scope:{ctx:l}}});function p(){return l[35](l[48])}return{c(){e=f("div"),t=f("div"),Y(s.$$.fragment),i=$(),Y(n.$$.fragment),o=$(),r=f("button"),r.innerHTML='<i class="ri-close-line"></i>',c=$(),u(r,"type","button"),u(r,"class","btn btn-xs btn-circle btn-hint"),u(r,"title","Remove"),u(t,"class","flex flex-gap-10"),u(e,"class","form-field-group")},m(h,v){w(h,e,v),a(e,t),Q(s,t,null),a(t,i),Q(n,t,null),a(t,o),a(t,r),a(e,c),d=!0,_||(b=J(r,"click",p),_=!0)},p(h,v){l=h;const L={};v[0]&64|v[1]&8388608&&(L.$$scope={dirty:v,ctx:l}),s.$set(L);const y={};v[0]&64|v[1]&8388608&&(y.$$scope={dirty:v,ctx:l}),n.$set(y)},i(h){d||(A(s.$$.fragment,h),A(n.$$.fragment,h),d=!0)},o(h){B(s.$$.fragment,h),B(n.$$.fragment,h),d=!1},d(h){h&&k(e),K(s),K(n),_=!1,b()}}}function xt(l){let e,t,s;function i(){l[36].call(e,l[50],l[48])}return{c(){e=f("input"),u(e,"type","text"),u(e,"placeholder","0 * * * *")},m(n,o){w(n,e,o),U(e,l[49].schedule),t||(s=[J(e,"input",i),J(e,"input",l[11])],t=!0)},p(n,o){l=n,o[0]&128&&e.value!==l[49].schedule&&U(e,l[49].schedule)},d(n){n&&k(e),t=!1,ye(s)}}}function bt(l){let e,t,s,i,n,o,r,c,d;s=new we({props:{class:"form-field flex-1",name:"schedule_"+l[48],$$slots:{default:[xt]},$$scope:{ctx:l}}});function _(){return l[37](l[48])}return{c(){e=f("div"),t=f("div"),Y(s.$$.fragment),i=$(),n=f("button"),n.innerHTML='<i class="ri-close-line"></i>',o=$(),u(n,"type","button"),u(n,"class","btn btn-xs btn-circle btn-hint"),u(n,"title","Remove"),u(t,"class","flex flex-gap-10"),u(e,"class","form-field-group")},m(b,p){w(b,e,p),a(e,t),Q(s,t,null),a(t,i),a(t,n),a(e,o),r=!0,c||(d=J(n,"click",_),c=!0)},p(b,p){l=b;const h={};p[0]&128|p[1]&8388608&&(h.$$scope={dirty:p,ctx:l}),s.$set(h)},i(b){r||(A(s.$$.fragment,b),r=!0)},o(b){B(s.$$.fragment,b),r=!1},d(b){b&&k(e),K(s),c=!1,d()}}}function el(l){let e,t,s;function i(){l[38].call(e,l[47],l[48])}return{c(){e=f("input"),u(e,"type","text"),u(e,"placeholder","VARIABLE_NAME")},m(n,o){w(n,e,o),U(e,l[46].key),t||(s=[J(e,"input",i),J(e,"input",l[18])],t=!0)},p(n,o){l=n,o[0]&256&&e.value!==l[46].key&&U(e,l[46].key)},d(n){n&&k(e),t=!1,ye(s)}}}function tl(l){let e,t,s;function i(){l[39].call(e,l[47],l[48])}return{c(){e=f("input"),u(e,"type","text"),u(e,"placeholder","variable_value")},m(n,o){w(n,e,o),U(e,l[46].value),t||(s=[J(e,"input",i),J(e,"input",l[18])],t=!0)},p(n,o){l=n,o[0]&256&&e.value!==l[46].value&&U(e,l[46].value)},d(n){n&&k(e),t=!1,ye(s)}}}function mt(l){let e,t,s,i,n,o,r,c,d,_,b;s=new we({props:{class:"form-field flex-1",name:"env_key_"+l[48],$$slots:{default:[el]},$$scope:{ctx:l}}}),n=new we({props:{class:"form-field flex-1",name:"env_value_"+l[48],$$slots:{default:[tl]},$$scope:{ctx:l}}});function p(){return l[40](l[48])}return{c(){e=f("div"),t=f("div"),Y(s.$$.fragment),i=$(),Y(n.$$.fragment),o=$(),r=f("button"),r.innerHTML='<i class="ri-close-line"></i>',c=$(),u(r,"type","button"),u(r,"class","btn btn-xs btn-circle btn-hint"),u(r,"title","Remove"),u(t,"class","flex flex-gap-10"),u(e,"class","form-field-group")},m(h,v){w(h,e,v),a(e,t),Q(s,t,null),a(t,i),Q(n,t,null),a(t,o),a(t,r),a(e,c),d=!0,_||(b=J(r,"click",p),_=!0)},p(h,v){l=h;const L={};v[0]&256|v[1]&8388608&&(L.$$scope={dirty:v,ctx:l}),s.$set(L);const y={};v[0]&256|v[1]&8388608&&(y.$$scope={dirty:v,ctx:l}),n.$set(y)},i(h){d||(A(s.$$.fragment,h),A(n.$$.fragment,h),d=!0)},o(h){B(s.$$.fragment,h),B(n.$$.fragment,h),d=!1},d(h){h&&k(e),K(s),K(n),_=!1,b()}}}function ll(l){let e,t,s=l[9]?"New":"Edit",i,n,o,r,c,d,_,b,p,h,v,L,y,N=l[9]?"Create":"Save changes",O,F,S,D;const V=[Vt,Rt],j=[];function H(M,G){return M[3]?0:1}return c=H(l),d=j[c]=V[c](l),{c(){e=f("header"),t=f("h4"),i=R(s),n=R(" lambda function"),o=$(),r=f("div"),d.c(),_=$(),b=f("footer"),p=f("button"),h=R("Cancel"),v=$(),L=f("button"),y=f("span"),O=R(N),u(e,"class","panel-header"),u(r,"class","panel-content"),u(p,"type","button"),u(p,"class","btn btn-transparent"),p.disabled=l[3],u(y,"class","txt"),u(L,"type","button"),u(L,"class","btn btn-expanded"),L.disabled=l[3],u(b,"class","panel-footer")},m(M,G){w(M,e,G),a(e,t),a(t,i),a(t,n),w(M,o,G),w(M,r,G),j[c].m(r,null),w(M,_,G),w(M,b,G),a(b,p),a(p,h),a(b,v),a(b,L),a(L,y),a(y,O),F=!0,S||(D=[J(p,"click",l[0]),J(L,"click",l[10])],S=!0)},p(M,G){(!F||G[0]&512)&&s!==(s=M[9]?"New":"Edit")&&re(i,s);let ee=c;c=H(M),c===ee?j[c].p(M,G):(De(),B(j[ee],1,1,()=>{j[ee]=null}),Me(),d=j[c],d?d.p(M,G):(d=j[c]=V[c](M),d.c()),A(d,1),d.m(r,null)),(!F||G[0]&8)&&(p.disabled=M[3]),(!F||G[0]&512)&&N!==(N=M[9]?"Create":"Save changes")&&re(O,N),(!F||G[0]&8)&&(L.disabled=M[3])},i(M){F||(A(d),F=!0)},o(M){B(d),F=!1},d(M){M&&(k(e),k(o),k(r),k(_),k(b)),j[c].d(),S=!1,ye(D)}}}function nl(l){let e,t,s={class:"overlay-panel-lg edge-function-panel",beforeHide:l[41],$$slots:{default:[ll]},$$scope:{ctx:l}};return e=new We({props:s}),l[42](e),e.$on("hide",l[43]),{c(){Y(e.$$.fragment)},m(i,n){Q(e,i,n),t=!0},p(i,n){const o={};n[0]&8&&(o.beforeHide=i[41]),n[0]&1018|n[1]&8388608&&(o.$$scope={dirty:n,ctx:i}),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){l[42](null),K(e,i)}}}function sl(l,e,t){let s;const i=ze();let n,o={},r={},c=!1,d=null;function _(E={}){p(E),n==null||n.show()}function b(){n==null||n.hide()}function p(E={}){if(t(3,c=!0),t(22,o=E),t(1,r={name:"",code:`// Enter your JavaScript code here

`,description:"",enabled:!0,timeout:30,triggers:{},env_vars:{},contentType:"auto",...E}),typeof r.triggers=="string")try{t(1,r.triggers=JSON.parse(r.triggers),r)}catch{t(1,r.triggers={},r)}if(typeof r.env_vars=="string")try{t(1,r.env_vars=JSON.parse(r.env_vars),r)}catch{t(1,r.env_vars={},r)}t(3,c=!1)}async function h(){if(!c){t(3,c=!0);try{let E;s?E=await Ne.send("/api/lambdas",{method:"POST",body:r}):E=await Ne.send(`/api/lambdas/${o.id}`,{method:"PATCH",body:r}),Ge(s?`Lambda function "${r.name}" was created.`:`Lambda function "${r.name}" was updated.`),b(),i("save",E)}catch(E){Pe(E)}t(3,c=!1)}}Nt(async()=>{try{const E=await Ot(()=>import("./CodeEditor-CofiZoN3.js"),__vite__mapDeps([0,1,2,3]),import.meta.url);t(4,d=E.default)}catch(E){console.warn("Failed to load CodeEditor component:",E)}});let v=[],L=[],y=[];function N(){t(1,r.triggers={...v.length&&{http:v},...L.length&&{database:L},...y.length&&{cron:y}},r)}function O(){t(5,v=[...v,{method:"GET",path:"/"}]),N()}function F(E){t(5,v=v.filter((P,be)=>be!==E)),N()}function S(){t(6,L=[...L,{collection:"",event:"create"}]),N()}function D(E){t(6,L=L.filter((P,be)=>be!==E)),N()}function V(){t(7,y=[...y,{schedule:"0 * * * *"}]),N()}function j(E){t(7,y=y.filter((P,be)=>be!==E)),N()}let H=[];function M(){t(1,r.env_vars={},r),H.forEach(({key:E,value:P})=>{E.trim()&&t(1,r.env_vars[E.trim()]=P||"",r)})}function G(){t(8,H=[...H,{key:"",value:""}])}function ee(E){t(8,H=H.filter((P,be)=>be!==E)),M()}function C(){r.name=this.value,t(1,r)}function I(){r.description=this.value,t(1,r)}function fe(){r.enabled=this.checked,t(1,r)}function te(){r.timeout=Ht(this.value),t(1,r)}function z(){r.contentType=Xe(this),t(1,r)}function ce(E){l.$$.not_equal(r.code,E)&&(r.code=E,t(1,r))}function He(){r.code=this.value,t(1,r)}function ne(E,P){E[P].method=Xe(this),t(5,v),t(1,r)}function $e(E,P){E[P].path=this.value,t(5,v),t(1,r)}const he=E=>F(E);function se(E,P){E[P].collection=this.value,t(6,L),t(1,r)}function ue(E,P){E[P].event=Xe(this),t(6,L),t(1,r)}const ie=E=>D(E);function ge(E,P){E[P].schedule=this.value,t(7,y),t(1,r)}const ke=E=>j(E);function Te(E,P){E[P].key=this.value,t(8,H),t(1,r)}function de(E,P){E[P].value=this.value,t(8,H),t(1,r)}const Ee=E=>ee(E),pe=()=>!c;function X(E){Oe[E?"unshift":"push"](()=>{n=E,t(2,n)})}function oe(E){Ke.call(this,l,E)}return l.$$.update=()=>{l.$$.dirty[0]&4194304&&t(9,s=!(o!=null&&o.id)),l.$$.dirty[0]&2&&r.triggers&&(t(5,v=r.triggers.http||[]),t(6,L=r.triggers.database||[]),t(7,y=r.triggers.cron||[])),l.$$.dirty[0]&2&&t(8,H=Object.entries(r.env_vars||{}).map(([E,P])=>({key:E,value:P})))},[b,r,n,c,d,v,L,y,H,s,h,N,O,F,S,D,V,j,M,G,ee,_,o,C,I,fe,te,z,ce,He,ne,$e,he,se,ue,ie,ge,ke,Te,de,Ee,pe,X,oe]}class il extends Ie{constructor(e){super(),Ue(this,e,sl,nl,je,{show:21,hide:0},null,[-1,-1])}get show(){return this.$$.ctx[21]}get hide(){return this.$$.ctx[0]}}function al(l){let e,t,s,i,n,o,r,c,d,_;return{c(){e=f("label"),t=R("Input Data (JSON)"),i=$(),n=f("textarea"),r=$(),c=f("div"),c.innerHTML="Provide input data as JSON. This will be available as <code>$input</code> in your function.",u(e,"for",s=l[16]),u(n,"id",o=l[16]),u(n,"placeholder",'{"key": "value"}'),u(n,"rows","6"),n.disabled=l[5],u(c,"class","help-text")},m(b,p){w(b,e,p),a(e,t),w(b,i,p),w(b,n,p),U(n,l[3]),w(b,r,p),w(b,c,p),d||(_=J(n,"input",l[10]),d=!0)},p(b,p){p&65536&&s!==(s=b[16])&&u(e,"for",s),p&65536&&o!==(o=b[16])&&u(n,"id",o),p&32&&(n.disabled=b[5]),p&8&&U(n,b[3])},d(b){b&&(k(e),k(i),k(n),k(r),k(c)),d=!1,_()}}}function ht(l){let e,t,s;return{c(){e=f("button"),e.innerHTML='<i class="ri-refresh-line"></i> <span class="txt">Reset</span>',u(e,"type","button"),u(e,"class","btn btn-outline")},m(i,n){w(i,e,n),t||(s=J(e,"click",l[8]),t=!0)},p:Ce,d(i){i&&k(e),t=!1,s()}}}function gt(l){let e;return{c(){e=f("div"),e.textContent="⚠️ Function is disabled and cannot be executed.",u(e,"class","help-text txt-warning")},m(t,s){w(t,e,s)},d(t){t&&k(e)}}}function vt(l){let e,t,s;return t=new we({props:{class:"form-field",name:"output",$$slots:{default:[ol,({uniqueId:i})=>({16:i}),({uniqueId:i})=>i?65536:0]},$$scope:{ctx:l}}}),{c(){e=f("div"),Y(t.$$.fragment),u(e,"class","col-12")},m(i,n){w(i,e,n),Q(t,e,null),s=!0},p(i,n){const o={};n&196624&&(o.$$scope={dirty:n,ctx:i}),t.$set(o)},i(i){s||(A(t.$$.fragment,i),s=!0)},o(i){B(t.$$.fragment,i),s=!1},d(i){i&&k(e),K(t)}}}function ol(l){let e,t,s,i,n,o,r,c;return{c(){e=f("label"),t=R("Execution Result"),i=$(),n=f("textarea"),u(e,"for",s=l[16]),u(n,"id",o=l[16]),n.readOnly=!0,u(n,"rows","10"),u(n,"class","font-mono svelte-1lyl1a4")},m(d,_){w(d,e,_),a(e,t),w(d,i,_),w(d,n,_),U(n,l[4]),r||(c=J(n,"input",l[11]),r=!0)},p(d,_){_&65536&&s!==(s=d[16])&&u(e,"for",s),_&65536&&o!==(o=d[16])&&u(n,"id",o),_&16&&U(n,d[4])},d(d){d&&(k(e),k(i),k(n)),r=!1,c()}}}function rl(l){var x,Je,qe,Re,Ve;let e,t,s,i=((x=l[2])==null?void 0:x.name)+"",n,o,r,c,d,_,b,p,h,v,L,y,N,O=((Je=l[2])==null?void 0:Je.name)+"",F,S,D,V,j,H,M=(qe=l[2])!=null&&qe.enabled?"Enabled":"Disabled",G,ee,C,I,fe,te=((Re=l[2])==null?void 0:Re.timeout)+"",z,ce,He,ne,$e,he,se,ue,ie,ge,ke,Te,de=l[5]?"Executing...":"Execute Function",Ee,pe,X,oe,E,P,be,_e,W,ae,le,Z;$e=new we({props:{class:"form-field",name:"input",$$slots:{default:[al,({uniqueId:q})=>({16:q}),({uniqueId:q})=>q?65536:0]},$$scope:{ctx:l}}});let ve=l[6]&&ht(l),m=!((Ve=l[2])!=null&&Ve.enabled)&&gt(),T=l[6]&&vt(l);return{c(){var q,g,me;e=f("header"),t=f("h4"),s=R("Execute: "),n=R(i),o=$(),r=f("div"),c=f("div"),d=f("div"),d.innerHTML='<div class="content txt-hint m-b-sm">Test your lambda function by providing input data and viewing the execution result.</div>',_=$(),b=f("div"),p=f("div"),p.innerHTML="<label>Function Details</label>",h=$(),v=f("div"),L=f("div"),y=f("strong"),y.textContent="Name:",N=$(),F=R(O),S=$(),D=f("div"),V=f("strong"),V.textContent="Status:",j=$(),H=f("span"),G=R(M),ee=$(),C=f("div"),I=f("strong"),I.textContent="Timeout:",fe=$(),z=R(te),ce=R("s"),He=$(),ne=f("div"),Y($e.$$.fragment),he=$(),se=f("div"),ue=f("div"),ie=f("button"),ge=f("i"),ke=$(),Te=f("span"),Ee=R(de),X=$(),ve&&ve.c(),oe=$(),m&&m.c(),E=$(),T&&T.c(),P=$(),be=f("footer"),_e=f("button"),W=R("Close"),u(e,"class","panel-header"),u(d,"class","col-12"),u(p,"class","field-group svelte-1lyl1a4"),u(L,"class","list-item"),u(H,"class","label"),Se(H,"label-success",(q=l[2])==null?void 0:q.enabled),Se(H,"label-hint",!((g=l[2])!=null&&g.enabled)),u(D,"class","list-item"),u(C,"class","list-item"),u(v,"class","list"),u(b,"class","col-12"),u(ne,"class","col-12"),u(ge,"class","ri-play-circle-line"),u(Te,"class","txt"),u(ie,"type","button"),u(ie,"class","btn btn-expanded"),ie.disabled=pe=l[5]||!((me=l[2])!=null&&me.enabled),Se(ie,"btn-loading",l[5]),u(ue,"class","flex flex-gap-10"),u(se,"class","col-12"),u(c,"class","grid"),u(r,"class","panel-content"),u(_e,"type","button"),u(_e,"class","btn btn-transparent"),_e.disabled=l[5],u(be,"class","panel-footer")},m(q,g){w(q,e,g),a(e,t),a(t,s),a(t,n),w(q,o,g),w(q,r,g),a(r,c),a(c,d),a(c,_),a(c,b),a(b,p),a(b,h),a(b,v),a(v,L),a(L,y),a(L,N),a(L,F),a(v,S),a(v,D),a(D,V),a(D,j),a(D,H),a(H,G),a(v,ee),a(v,C),a(C,I),a(C,fe),a(C,z),a(C,ce),a(c,He),a(c,ne),Q($e,ne,null),a(c,he),a(c,se),a(se,ue),a(ue,ie),a(ie,ge),a(ie,ke),a(ie,Te),a(Te,Ee),a(ue,X),ve&&ve.m(ue,null),a(se,oe),m&&m.m(se,null),a(c,E),T&&T.m(c,null),w(q,P,g),w(q,be,g),a(be,_e),a(_e,W),ae=!0,le||(Z=[J(ie,"click",l[7]),J(_e,"click",l[0])],le=!0)},p(q,g){var Ze,xe,et,tt,lt,nt,st,it;(!ae||g&4)&&i!==(i=((Ze=q[2])==null?void 0:Ze.name)+"")&&re(n,i),(!ae||g&4)&&O!==(O=((xe=q[2])==null?void 0:xe.name)+"")&&re(F,O),(!ae||g&4)&&M!==(M=(et=q[2])!=null&&et.enabled?"Enabled":"Disabled")&&re(G,M),(!ae||g&4)&&Se(H,"label-success",(tt=q[2])==null?void 0:tt.enabled),(!ae||g&4)&&Se(H,"label-hint",!((lt=q[2])!=null&&lt.enabled)),(!ae||g&4)&&te!==(te=((nt=q[2])==null?void 0:nt.timeout)+"")&&re(z,te);const me={};g&196648&&(me.$$scope={dirty:g,ctx:q}),$e.$set(me),(!ae||g&32)&&de!==(de=q[5]?"Executing...":"Execute Function")&&re(Ee,de),(!ae||g&36&&pe!==(pe=q[5]||!((st=q[2])!=null&&st.enabled)))&&(ie.disabled=pe),(!ae||g&32)&&Se(ie,"btn-loading",q[5]),q[6]?ve?ve.p(q,g):(ve=ht(q),ve.c(),ve.m(ue,null)):ve&&(ve.d(1),ve=null),(it=q[2])!=null&&it.enabled?m&&(m.d(1),m=null):m||(m=gt(),m.c(),m.m(se,null)),q[6]?T?(T.p(q,g),g&64&&A(T,1)):(T=vt(q),T.c(),A(T,1),T.m(c,null)):T&&(De(),B(T,1,1,()=>{T=null}),Me()),(!ae||g&32)&&(_e.disabled=q[5])},i(q){ae||(A($e.$$.fragment,q),A(T),ae=!0)},o(q){B($e.$$.fragment,q),B(T),ae=!1},d(q){q&&(k(e),k(o),k(r),k(P),k(be)),K($e),ve&&ve.d(),m&&m.d(),T&&T.d(),le=!1,ye(Z)}}}function ul(l){let e,t,s={class:"overlay-panel-lg execute-panel",beforeHide:l[12],$$slots:{default:[rl]},$$scope:{ctx:l}};return e=new We({props:s}),l[13](e),e.$on("hide",l[14]),{c(){Y(e.$$.fragment)},m(i,n){Q(e,i,n),t=!0},p(i,[n]){const o={};n&32&&(o.beforeHide=i[12]),n&131196&&(o.$$scope={dirty:n,ctx:i}),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){l[13](null),K(e,i)}}}function fl(l,e,t){ze();let s,i={},n="{}",o="",r=!1,c=!1;function d(O){t(2,i=O),t(3,n="{}"),t(4,o=""),t(6,c=!1),s==null||s.show()}function _(){s==null||s.hide()}async function b(){if(!r){t(5,r=!0);try{let O={};if(n.trim())try{O=JSON.parse(n)}catch(S){throw new Error("Invalid JSON input: "+S.message)}const F=await Ne.send(`/api/lambdas/${i.id}/execute`,{method:"POST",body:{input:O}});t(4,o=JSON.stringify(F,null,2)),t(6,c=!0),Ge("Function executed successfully")}catch(O){t(4,o=JSON.stringify({error:O.message||"Execution failed",timestamp:new Date().toISOString()},null,2)),t(6,c=!0),Pe(O)}t(5,r=!1)}}function p(){t(4,o=""),t(6,c=!1)}function h(){n=this.value,t(3,n)}function v(){o=this.value,t(4,o)}const L=()=>!r;function y(O){Oe[O?"unshift":"push"](()=>{s=O,t(1,s)})}function N(O){Ke.call(this,l,O)}return[_,s,i,n,o,r,c,b,p,d,h,v,L,y,N]}class cl extends Ie{constructor(e){super(),Ue(this,e,fl,ul,je,{show:9,hide:0})}get show(){return this.$$.ctx[9]}get hide(){return this.$$.ctx[0]}}function $t(l,e,t){const s=l.slice();return s[10]=e[t],s}function dl(l){let e,t,s,i,n,o,r=[],c=new Map,d=Le(l[3]);const _=b=>b[10].id;for(let b=0;b<d.length;b+=1){let p=$t(l,d,b),h=_(p);c.set(h,r[b]=kt(h,p))}return{c(){e=f("div"),t=f("div"),s=f("table"),i=f("thead"),i.innerHTML="<tr><th>Status</th> <th>Trigger</th> <th>Duration</th> <th>Timestamp</th> <th>Output/Error</th></tr>",n=$(),o=f("tbody");for(let b=0;b<r.length;b+=1)r[b].c();u(s,"class","table"),u(t,"class","table-wrapper"),u(e,"class","col-12")},m(b,p){w(b,e,p),a(e,t),a(t,s),a(s,i),a(s,n),a(s,o);for(let h=0;h<r.length;h+=1)r[h]&&r[h].m(o,null)},p(b,p){p&8&&(d=Le(b[3]),r=Dt(r,p,_,1,b,d,c,o,Mt,kt,null,$t))},d(b){b&&k(e);for(let p=0;p<r.length;p+=1)r[p].d()}}}function pl(l){let e;return{c(){e=f("div"),e.innerHTML='<div class="block txt-center txt-hint"><h6>No execution logs found.</h6> <p>Logs will appear here after the function is executed.</p></div>',u(e,"class","col-12")},m(t,s){w(t,e,s)},p:Ce,d(t){t&&k(e)}}}function _l(l){let e;return{c(){e=f("div"),e.innerHTML='<div class="block txt-center"><span class="loader"></span></div>',u(e,"class","col-12")},m(t,s){w(t,e,s)},p:Ce,d(t){t&&k(e)}}}function bl(l){let e,t=l[10].error+"",s;return{c(){e=f("pre"),s=R(t),u(e,"class","error-content")},m(i,n){w(i,e,n),a(e,s)},p(i,n){n&8&&t!==(t=i[10].error+"")&&re(s,t)},d(i){i&&k(e)}}}function ml(l){let e;function t(n,o){return n[10].output?gl:hl}let s=t(l),i=s(l);return{c(){i.c(),e=Ye()},m(n,o){i.m(n,o),w(n,e,o)},p(n,o){s===(s=t(n))&&i?i.p(n,o):(i.d(1),i=s(n),i&&(i.c(),i.m(e.parentNode,e)))},d(n){n&&k(e),i.d(n)}}}function hl(l){let e;return{c(){e=f("span"),e.textContent="No output",u(e,"class","txt-hint")},m(t,s){w(t,e,s)},p:Ce,d(t){t&&k(e)}}}function gl(l){let e,t=Lt(l[10].output)+"",s;return{c(){e=f("pre"),s=R(t),u(e,"class","output-content")},m(i,n){w(i,e,n),a(e,s)},p(i,n){n&8&&t!==(t=Lt(i[10].output)+"")&&re(s,t)},d(i){i&&k(e)}}}function kt(l,e){let t,s,i,n=e[10].success?"Success":"Error",o,r,c,d,_,b=e[10].trigger_type+"",p,h,v,L,y=Tt(e[10].duration_ms)+"",N,O,F,S,D=Fe.formatToLocalDate(e[10].timestamp)+"",V,j,H,M,G;function ee(fe,te){return fe[10].success?ml:bl}let C=ee(e),I=C(e);return{key:l,first:null,c(){t=f("tr"),s=f("td"),i=f("span"),o=R(n),c=$(),d=f("td"),_=f("span"),p=R(b),h=$(),v=f("td"),L=f("span"),N=R(y),O=$(),F=f("td"),S=f("span"),V=R(D),j=$(),H=f("td"),M=f("div"),I.c(),G=$(),u(i,"class",r="label "+wt(e[10].success)),u(_,"class","txt"),u(L,"class","txt"),u(S,"class","txt-hint"),u(M,"class","log-content"),this.first=t},m(fe,te){w(fe,t,te),a(t,s),a(s,i),a(i,o),a(t,c),a(t,d),a(d,_),a(_,p),a(t,h),a(t,v),a(v,L),a(L,N),a(t,O),a(t,F),a(F,S),a(S,V),a(t,j),a(t,H),a(H,M),I.m(M,null),a(t,G)},p(fe,te){e=fe,te&8&&n!==(n=e[10].success?"Success":"Error")&&re(o,n),te&8&&r!==(r="label "+wt(e[10].success))&&u(i,"class",r),te&8&&b!==(b=e[10].trigger_type+"")&&re(p,b),te&8&&y!==(y=Tt(e[10].duration_ms)+"")&&re(N,y),te&8&&D!==(D=Fe.formatToLocalDate(e[10].timestamp)+"")&&re(V,D),C===(C=ee(e))&&I?I.p(e,te):(I.d(1),I=C(e),I&&(I.c(),I.m(M,null)))},d(fe){fe&&k(t),I.d()}}}function vl(l){var j;let e,t,s,i=((j=l[2])==null?void 0:j.name)+"",n,o,r,c,d,_,b,p,h,v,L,y,N,O,F;c=new St({props:{class:"btn-sm"}}),c.$on("refresh",l[5]);function S(H,M){return H[4]?_l:H[3].length?dl:pl}let D=S(l),V=D(l);return{c(){e=f("header"),t=f("h4"),s=R("Logs: "),n=R(i),o=$(),r=f("div"),Y(c.$$.fragment),d=$(),_=f("div"),b=f("div"),p=f("div"),p.innerHTML='<div class="content txt-hint m-b-sm">Execution logs and history for this lambda function.</div>',h=$(),V.c(),v=$(),L=f("footer"),y=f("button"),y.textContent="Close",u(r,"class","flex flex-gap-10"),u(e,"class","panel-header"),u(p,"class","col-12"),u(b,"class","grid"),u(_,"class","panel-content"),u(y,"type","button"),u(y,"class","btn btn-transparent"),u(L,"class","panel-footer")},m(H,M){w(H,e,M),a(e,t),a(t,s),a(t,n),a(e,o),a(e,r),Q(c,r,null),w(H,d,M),w(H,_,M),a(_,b),a(b,p),a(b,h),V.m(b,null),w(H,v,M),w(H,L,M),a(L,y),N=!0,O||(F=J(y,"click",l[0]),O=!0)},p(H,M){var G;(!N||M&4)&&i!==(i=((G=H[2])==null?void 0:G.name)+"")&&re(n,i),D===(D=S(H))&&V?V.p(H,M):(V.d(1),V=D(H),V&&(V.c(),V.m(b,null)))},i(H){N||(A(c.$$.fragment,H),N=!0)},o(H){B(c.$$.fragment,H),N=!1},d(H){H&&(k(e),k(d),k(_),k(v),k(L)),K(c),V.d(),O=!1,F()}}}function $l(l){let e,t,s={class:"overlay-panel-xl logs-panel",$$slots:{default:[vl]},$$scope:{ctx:l}};return e=new We({props:s}),l[7](e),e.$on("hide",l[8]),{c(){Y(e.$$.fragment)},m(i,n){Q(e,i,n),t=!0},p(i,[n]){const o={};n&8220&&(o.$$scope={dirty:n,ctx:i}),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){l[7](null),K(e,i)}}}function wt(l){return l?"label-success":"label-danger"}function Tt(l){return l<1e3?`${l}ms`:`${(l/1e3).toFixed(2)}s`}function Lt(l){return typeof l=="string"?l:JSON.stringify(l,null,2)}function kl(l,e,t){ze();let s,i={},n=[],o=!1;function r(p){t(2,i=p),t(3,n=[]),d(),s==null||s.show()}function c(){s==null||s.hide()}async function d(){if(i!=null&&i.id){t(4,o=!0);try{const p=await Ne.send(`/api/lambdas/${i.id}/logs`,{method:"GET"});t(3,n=p.logs||[])}catch(p){p!=null&&p.isAbort||Pe(p)}t(4,o=!1)}}function _(p){Oe[p?"unshift":"push"](()=>{s=p,t(1,s)})}function b(p){Ke.call(this,l,p)}return[c,s,i,n,o,d,r,_,b]}class wl extends Ie{constructor(e){super(),Ue(this,e,kl,$l,je,{show:6,hide:0})}get show(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[0]}}function Et(l,e,t){const s=l.slice();return s[25]=e[t],s}function Tl(l){let e,t,s,i,n,o=[],r=new Map,c=Le(l[0]);const d=_=>_[25].id;for(let _=0;_<c.length;_+=1){let b=Et(l,c,_),p=d(b);r.set(p,o[_]=yt(p,b))}return{c(){e=f("div"),t=f("table"),s=f("thead"),s.innerHTML='<tr><th>Name</th> <th>Status</th> <th>Timeout</th> <th>Created</th> <th>Updated</th> <th class="min-width"></th></tr>',i=$(),n=f("tbody");for(let _=0;_<o.length;_+=1)o[_].c();u(t,"class","table"),u(e,"class","table-wrapper")},m(_,b){w(_,e,b),a(e,t),a(t,s),a(t,i),a(t,n);for(let p=0;p<o.length;p+=1)o[p]&&o[p].m(n,null)},p(_,b){b&7937&&(c=Le(_[0]),o=Dt(o,b,d,1,_,c,r,n,Mt,yt,null,Et))},d(_){_&&k(e);for(let b=0;b<o.length;b+=1)o[b].d()}}}function Ll(l){let e,t,s,i,n,o;return{c(){e=f("div"),t=f("h6"),t.textContent="No lambda functions found.",s=$(),i=f("button"),i.innerHTML='<i class="ri-add-line"></i> <span class="txt">Create your first function</span>',u(i,"type","button"),u(i,"class","btn btn-sm btn-outline"),u(e,"class","block txt-center txt-hint")},m(r,c){w(r,e,c),a(e,t),a(e,s),a(e,i),n||(o=J(i,"click",l[18]),n=!0)},p:Ce,d(r){r&&k(e),n=!1,o()}}}function El(l){let e;return{c(){e=f("div"),e.innerHTML='<span class="loader"></span>',u(e,"class","block txt-center")},m(t,s){w(t,e,s)},p:Ce,d(t){t&&k(e)}}}function Ct(l){let e,t,s=l[25].description+"",i;return{c(){e=f("span"),t=R("- "),i=R(s),u(e,"class","txt-hint")},m(n,o){w(n,e,o),a(e,t),a(e,i)},p(n,o){o&1&&s!==(s=n[25].description+"")&&re(i,s)},d(n){n&&k(e)}}}function yt(l,e){let t,s,i,n,o=e[25].name+"",r,c,d,_,b,p=e[25].enabled?"Enabled":"Disabled",h,v,L,y,N=e[25].timeout+"",O,F,S,D,V,j=Fe.formatToLocalDate(e[25].created)+"",H,M,G,ee,C=Fe.formatToLocalDate(e[25].updated)+"",I,fe,te,z,ce,He,ne,$e,he,se,ue,ie,ge,ke,Te,de,Ee,pe,X,oe=e[25].description&&Ct(e);function E(){return e[19](e[25])}function P(){return e[20](e[25])}function be(){return e[21](e[25])}function _e(){return e[22](e[25])}function W(){return e[23](e[25])}return{key:l,first:null,c(){t=f("tr"),s=f("td"),i=f("div"),n=f("strong"),r=R(o),c=$(),oe&&oe.c(),d=$(),_=f("td"),b=f("span"),h=R(p),v=$(),L=f("td"),y=f("span"),O=R(N),F=R("s"),S=$(),D=f("td"),V=f("span"),H=R(j),M=$(),G=f("td"),ee=f("span"),I=R(C),fe=$(),te=f("td"),z=f("div"),ce=f("button"),ce.innerHTML='<i class="ri-play-circle-line"></i>',He=$(),ne=f("button"),ne.innerHTML='<i class="ri-file-list-3-line"></i>',$e=$(),he=f("button"),se=f("i"),ge=$(),ke=f("button"),ke.innerHTML='<i class="ri-edit-line"></i>',Te=$(),de=f("button"),de.innerHTML='<i class="ri-delete-bin-7-line"></i>',Ee=$(),u(n,"class","txt"),u(i,"class","flex flex-gap-10"),u(b,"class","label"),Se(b,"label-success",e[25].enabled),Se(b,"label-hint",!e[25].enabled),u(y,"class","txt"),u(V,"class","txt-hint"),u(ee,"class","txt-hint"),u(ce,"type","button"),u(ce,"class","btn btn-xs btn-circle btn-hint"),u(ce,"title","Execute function"),u(ne,"type","button"),u(ne,"class","btn btn-xs btn-circle btn-hint"),u(ne,"title","View logs"),u(se,"class",ue="ri-"+(e[25].enabled?"pause":"play")+"-circle-line"),u(he,"type","button"),u(he,"class","btn btn-xs btn-circle btn-hint"),u(he,"title",ie=e[25].enabled?"Disable":"Enable"),u(ke,"type","button"),u(ke,"class","btn btn-xs btn-circle btn-hint"),u(ke,"title","Edit function"),u(de,"type","button"),u(de,"class","btn btn-xs btn-circle btn-hint"),u(de,"title","Delete function"),u(z,"class","inline-flex"),u(te,"class","min-width nowrap"),u(t,"class","row-handle"),this.first=t},m(ae,le){w(ae,t,le),a(t,s),a(s,i),a(i,n),a(n,r),a(i,c),oe&&oe.m(i,null),a(t,d),a(t,_),a(_,b),a(b,h),a(t,v),a(t,L),a(L,y),a(y,O),a(y,F),a(t,S),a(t,D),a(D,V),a(V,H),a(t,M),a(t,G),a(G,ee),a(ee,I),a(t,fe),a(t,te),a(te,z),a(z,ce),a(z,He),a(z,ne),a(z,$e),a(z,he),a(he,se),a(z,ge),a(z,ke),a(z,Te),a(z,de),a(t,Ee),pe||(X=[J(ce,"click",E),J(ne,"click",P),J(he,"click",be),J(ke,"click",_e),J(de,"click",W)],pe=!0)},p(ae,le){e=ae,le&1&&o!==(o=e[25].name+"")&&re(r,o),e[25].description?oe?oe.p(e,le):(oe=Ct(e),oe.c(),oe.m(i,null)):oe&&(oe.d(1),oe=null),le&1&&p!==(p=e[25].enabled?"Enabled":"Disabled")&&re(h,p),le&1&&Se(b,"label-success",e[25].enabled),le&1&&Se(b,"label-hint",!e[25].enabled),le&1&&N!==(N=e[25].timeout+"")&&re(O,N),le&1&&j!==(j=Fe.formatToLocalDate(e[25].created)+"")&&re(H,j),le&1&&C!==(C=Fe.formatToLocalDate(e[25].updated)+"")&&re(I,C),le&1&&ue!==(ue="ri-"+(e[25].enabled?"pause":"play")+"-circle-line")&&u(se,"class",ue),le&1&&ie!==(ie=e[25].enabled?"Disable":"Enable")&&u(he,"title",ie)},d(ae){ae&&k(t),oe&&oe.d(),pe=!1,ye(X)}}}function Cl(l){let e,t,s,i,n,o,r,c,d,_,b,p,h,v,L,y,N;b=new St({props:{class:"btn-sm"}}),b.$on("refresh",l[6]);function O(D,V){return D[1]?El:D[0].length?Tl:Ll}let F=O(l),S=F(l);return{c(){e=f("header"),t=f("nav"),s=f("div"),i=R(l[5]),n=$(),o=f("div"),r=f("div"),c=f("div"),d=f("span"),d.textContent="Lambda Functions",_=$(),Y(b.$$.fragment),p=$(),h=f("button"),h.innerHTML='<i class="ri-add-line"></i> <span class="txt">New function</span>',v=$(),S.c(),u(s,"class","breadcrumb-item"),u(t,"class","breadcrumbs"),u(e,"class","page-header"),u(d,"class","txt-xl"),u(h,"type","button"),u(h,"class","btn btn-sm btn-outline"),u(c,"class","flex m-b-sm flex-gap-10"),u(r,"class","panel"),u(o,"class","wrapper")},m(D,V){w(D,e,V),a(e,t),a(t,s),a(s,i),w(D,n,V),w(D,o,V),a(o,r),a(r,c),a(c,d),a(c,_),Q(b,c,null),a(c,p),a(c,h),a(r,v),S.m(r,null),L=!0,y||(N=J(h,"click",l[17]),y=!0)},p(D,V){(!L||V&32)&&re(i,D[5]),F===(F=O(D))&&S?S.p(D,V):(S.d(1),S=F(D),S&&(S.c(),S.m(r,null)))},i(D){L||(A(b.$$.fragment,D),L=!0)},o(D){B(b.$$.fragment,D),L=!1},d(D){D&&(k(e),k(n),k(o)),K(b),S.d(),y=!1,N()}}}function yl(l){let e,t,s,i,n,o,r,c,d={};e=new il({props:d}),l[14](e),e.$on("save",l[6]);let _={};s=new cl({props:_}),l[15](s);let b={};return n=new wl({props:b}),l[16](n),r=new Ft({props:{$$slots:{default:[Cl]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment),t=$(),Y(s.$$.fragment),i=$(),Y(n.$$.fragment),o=$(),Y(r.$$.fragment)},m(p,h){Q(e,p,h),w(p,t,h),Q(s,p,h),w(p,i,h),Q(n,p,h),w(p,o,h),Q(r,p,h),c=!0},p(p,[h]){const v={};e.$set(v);const L={};s.$set(L);const y={};n.$set(y);const N={};h&268435491&&(N.$$scope={dirty:h,ctx:p}),r.$set(N)},i(p){c||(A(e.$$.fragment,p),A(s.$$.fragment,p),A(n.$$.fragment,p),A(r.$$.fragment,p),c=!0)},o(p){B(e.$$.fragment,p),B(s.$$.fragment,p),B(n.$$.fragment,p),B(r.$$.fragment,p),c=!1},d(p){p&&(k(t),k(i),k(o)),l[14](null),K(e,p),l[15](null),K(s,p),l[16](null),K(n,p),K(r,p)}}}function Hl(l,e,t){let s;At(l,rt,C=>t(5,s=C)),Jt(rt,s="Lambda Functions",s);let i=[],n=!1,o,r,c;const d={};async function _(){t(1,n=!0);try{console.log("Loading lambda functions...");const C=await Ne.send("/api/lambdas",{method:"GET"});console.log("Lambda functions response:",C),t(0,i=C||[])}catch(C){console.error("Error loading lambda functions:",C),C!=null&&C.isAbort||Pe(C)}t(1,n=!1)}function b(){o==null||o.show()}async function p(C){try{const I=await Ne.send(`/api/lambdas/${C.id}`,{method:"GET"});o==null||o.show(I)}catch(I){Pe(I)}}function h(C){r==null||r.show(C)}function v(C){c==null||c.show(C)}async function L(C){return qt(`Are you sure you want to delete "${C.name}"?`,{title:"Delete lambda function",yesText:"Delete"})}async function y(C){if(await L(C))try{await Ne.send(`/api/lambdas/${C.id}`,{method:"DELETE"}),Ge(`Lambda function "${C.name}" was deleted.`),_()}catch(I){Pe(I)}}async function N(C){try{await Ne.send(`/api/lambdas/${C.id}`,{method:"PATCH",body:{enabled:!C.enabled}});const I=C.enabled?"disabled":"enabled";Ge(`Lambda function "${C.name}" was ${I}.`),_()}catch(I){Pe(I)}}_();function O(C){Oe[C?"unshift":"push"](()=>{o=C,t(2,o)})}function F(C){Oe[C?"unshift":"push"](()=>{r=C,t(3,r)})}function S(C){Oe[C?"unshift":"push"](()=>{c=C,t(4,c)})}return[i,n,o,r,c,s,_,b,p,h,v,y,N,d,O,F,S,()=>b(),()=>b(),C=>h(C),C=>v(C),C=>N(C),C=>p(C),C=>y(C)]}class Dl extends Ie{constructor(e){super(),Ue(this,e,Hl,yl,je,{queryParams:13})}get queryParams(){return this.$$.ctx[13]}}export{Dl as default};
