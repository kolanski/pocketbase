const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CodeEditor-ByI5jKjc.js","./index-CGZL2Fjn.js","./index-jwhZKQ23.css","./index-kXABCv8h.js"])))=>i.map(i=>d[i]);
import{S as Ge,i as Ie,s as Ue,O as je,d as Z,t as q,a as O,m as x,c as ee,L as We,M as Nt,_ as Ot,h as k,j as Ee,I as ce,C as Se,D as Me,l as w,n as a,o as F,u as f,A as J,v,w as u,p as Ne,K as Ve,b as Pe,N as Ht,P as st,y as Oe,Q as ze,H as Le,f as ke,R as Te,T as Re,z as Q,U as Ke,V as it,W as at,X as Pt,Y as Be,Z as Ct,k as Ce,$ as Dt,a0 as St,a1 as Mt,J as Fe,a2 as Ft,a3 as At,a4 as Jt,x as qt,a5 as ot}from"./index-CGZL2Fjn.js";function rt(l,e,t){const s=l.slice();return s[45]=e[t],s[46]=e,s[47]=t,s}function ut(l,e,t){const s=l.slice();return s[48]=e[t],s[49]=e,s[47]=t,s}function ct(l,e,t){const s=l.slice();return s[48]=e[t],s[50]=e,s[47]=t,s}function ft(l,e,t){const s=l.slice();return s[48]=e[t],s[51]=e,s[47]=t,s}function Rt(l){let e,t,s,i,n,o,r,c,d,_,b,p,h,g,T,H,S,N,G,P,M,A,W,C,D,R,oe,L,V,re,te,Y,ge,ye,se,fe,me,ie,_e,le,we,ve;s=new ke({props:{class:"form-field required",name:"name",$$slots:{default:[Bt,({uniqueId:m})=>({52:m}),({uniqueId:m})=>[0,m?2097152:0]]},$$scope:{ctx:l}}}),o=new ke({props:{class:"form-field",name:"description",$$slots:{default:[Gt,({uniqueId:m})=>({52:m}),({uniqueId:m})=>[0,m?2097152:0]]},$$scope:{ctx:l}}}),d=new ke({props:{class:"form-field",name:"enabled",$$slots:{default:[It,({uniqueId:m})=>({52:m}),({uniqueId:m})=>[0,m?2097152:0]]},$$scope:{ctx:l}}}),p=new ke({props:{class:"form-field required",name:"timeout",$$slots:{default:[Ut,({uniqueId:m})=>({52:m}),({uniqueId:m})=>[0,m?2097152:0]]},$$scope:{ctx:l}}}),T=new ke({props:{class:"form-field required",name:"code",$$slots:{default:[zt,({uniqueId:m})=>({52:m}),({uniqueId:m})=>[0,m?2097152:0]]},$$scope:{ctx:l}}});let be=Te(l[5]),I=[];for(let m=0;m<be.length;m+=1)I[m]=dt(ft(l,be,m));const He=m=>q(I[m],1,1,()=>{I[m]=null});let de=Te(l[6]),K=[];for(let m=0;m<de.length;m+=1)K[m]=pt(ct(l,de,m));const $=m=>q(K[m],1,1,()=>{K[m]=null});let z=Te(l[7]),j=[];for(let m=0;m<z.length;m+=1)j[m]=_t(ut(l,z,m));const De=m=>q(j[m],1,1,()=>{j[m]=null});let pe=Te(l[8]),X=[];for(let m=0;m<pe.length;m+=1)X[m]=bt(rt(l,pe,m));const ae=m=>q(X[m],1,1,()=>{X[m]=null});return{c(){e=f("div"),t=f("div"),ee(s.$$.fragment),i=v(),n=f("div"),ee(o.$$.fragment),r=v(),c=f("div"),ee(d.$$.fragment),_=v(),b=f("div"),ee(p.$$.fragment),h=v(),g=f("div"),ee(T.$$.fragment),H=v(),S=f("div"),N=f("label"),G=J(`HTTP Triggers
                        `),P=f("button"),P.innerHTML='<i class="ri-add-line"></i>',M=v();for(let m=0;m<I.length;m+=1)I[m].c();A=v(),W=f("div"),C=f("label"),D=J(`Database Triggers
                        `),R=f("button"),R.innerHTML='<i class="ri-add-line"></i>',oe=v();for(let m=0;m<K.length;m+=1)K[m].c();L=v(),V=f("div"),re=f("label"),te=J(`Cron Triggers
                        `),Y=f("button"),Y.innerHTML='<i class="ri-add-line"></i>',ge=v();for(let m=0;m<j.length;m+=1)j[m].c();ye=v(),se=f("div"),fe=f("label"),me=J(`Environment Variables
                        `),ie=f("button"),ie.innerHTML='<i class="ri-add-line"></i>',_e=v();for(let m=0;m<X.length;m+=1)X[m].c();u(t,"class","col-12"),u(n,"class","col-12"),u(c,"class","col-6"),u(b,"class","col-6"),u(g,"class","col-12"),u(P,"type","button"),u(P,"class","btn btn-xs btn-circle btn-outline"),u(P,"title","Add HTTP trigger"),u(N,"class","field-group svelte-x5gssc"),u(S,"class","col-12"),u(R,"type","button"),u(R,"class","btn btn-xs btn-circle btn-outline"),u(R,"title","Add database trigger"),u(C,"class","field-group svelte-x5gssc"),u(W,"class","col-12"),u(Y,"type","button"),u(Y,"class","btn btn-xs btn-circle btn-outline"),u(Y,"title","Add cron trigger"),u(re,"class","field-group svelte-x5gssc"),u(V,"class","col-12"),u(ie,"type","button"),u(ie,"class","btn btn-xs btn-circle btn-outline"),u(ie,"title","Add environment variable"),u(fe,"class","field-group svelte-x5gssc"),u(se,"class","col-12"),u(e,"class","grid")},m(m,y){w(m,e,y),a(e,t),x(s,t,null),a(e,i),a(e,n),x(o,n,null),a(e,r),a(e,c),x(d,c,null),a(e,_),a(e,b),x(p,b,null),a(e,h),a(e,g),x(T,g,null),a(e,H),a(e,S),a(S,N),a(N,G),a(N,P),a(S,M);for(let U=0;U<I.length;U+=1)I[U]&&I[U].m(S,null);a(e,A),a(e,W),a(W,C),a(C,D),a(C,R),a(W,oe);for(let U=0;U<K.length;U+=1)K[U]&&K[U].m(W,null);a(e,L),a(e,V),a(V,re),a(re,te),a(re,Y),a(V,ge);for(let U=0;U<j.length;U+=1)j[U]&&j[U].m(V,null);a(e,ye),a(e,se),a(se,fe),a(fe,me),a(fe,ie),a(se,_e);for(let U=0;U<X.length;U+=1)X[U]&&X[U].m(se,null);le=!0,we||(ve=[F(P,"click",l[12]),F(R,"click",l[14]),F(Y,"click",l[16]),F(ie,"click",l[19])],we=!0)},p(m,y){const U={};y[0]&2|y[1]&6291456&&(U.$$scope={dirty:y,ctx:m}),s.$set(U);const he={};y[0]&2|y[1]&6291456&&(he.$$scope={dirty:y,ctx:m}),o.$set(he);const ue={};y[0]&2|y[1]&6291456&&(ue.$$scope={dirty:y,ctx:m}),d.$set(ue);const Ae={};y[0]&2|y[1]&6291456&&(Ae.$$scope={dirty:y,ctx:m}),p.$set(Ae);const Je={};if(y[0]&18|y[1]&6291456&&(Je.$$scope={dirty:y,ctx:m}),T.$set(Je),y[0]&10272){be=Te(m[5]);let E;for(E=0;E<be.length;E+=1){const $e=ft(m,be,E);I[E]?(I[E].p($e,y),O(I[E],1)):(I[E]=dt($e),I[E].c(),O(I[E],1),I[E].m(S,null))}for(Se(),E=be.length;E<I.length;E+=1)He(E);Me()}if(y[0]&34880){de=Te(m[6]);let E;for(E=0;E<de.length;E+=1){const $e=ct(m,de,E);K[E]?(K[E].p($e,y),O(K[E],1)):(K[E]=pt($e),K[E].c(),O(K[E],1),K[E].m(W,null))}for(Se(),E=de.length;E<K.length;E+=1)$(E);Me()}if(y[0]&133248){z=Te(m[7]);let E;for(E=0;E<z.length;E+=1){const $e=ut(m,z,E);j[E]?(j[E].p($e,y),O(j[E],1)):(j[E]=_t($e),j[E].c(),O(j[E],1),j[E].m(V,null))}for(Se(),E=z.length;E<j.length;E+=1)De(E);Me()}if(y[0]&1310976){pe=Te(m[8]);let E;for(E=0;E<pe.length;E+=1){const $e=rt(m,pe,E);X[E]?(X[E].p($e,y),O(X[E],1)):(X[E]=bt($e),X[E].c(),O(X[E],1),X[E].m(se,null))}for(Se(),E=pe.length;E<X.length;E+=1)ae(E);Me()}},i(m){if(!le){O(s.$$.fragment,m),O(o.$$.fragment,m),O(d.$$.fragment,m),O(p.$$.fragment,m),O(T.$$.fragment,m);for(let y=0;y<be.length;y+=1)O(I[y]);for(let y=0;y<de.length;y+=1)O(K[y]);for(let y=0;y<z.length;y+=1)O(j[y]);for(let y=0;y<pe.length;y+=1)O(X[y]);le=!0}},o(m){q(s.$$.fragment,m),q(o.$$.fragment,m),q(d.$$.fragment,m),q(p.$$.fragment,m),q(T.$$.fragment,m),I=I.filter(Boolean);for(let y=0;y<I.length;y+=1)q(I[y]);K=K.filter(Boolean);for(let y=0;y<K.length;y+=1)q(K[y]);j=j.filter(Boolean);for(let y=0;y<j.length;y+=1)q(j[y]);X=X.filter(Boolean);for(let y=0;y<X.length;y+=1)q(X[y]);le=!1},d(m){m&&k(e),Z(s),Z(o),Z(d),Z(p),Z(T),Re(I,m),Re(K,m),Re(j,m),Re(X,m),we=!1,Ee(ve)}}}function Vt(l){let e;return{c(){e=f("div"),e.innerHTML='<span class="loader"></span>',u(e,"class","block txt-center")},m(t,s){w(t,e,s)},p:Le,i:Le,o:Le,d(t){t&&k(e)}}}function Bt(l){let e,t,s,i,n,o,r,c;return{c(){e=f("label"),t=J("Name"),i=v(),n=f("input"),u(e,"for",s=l[52]),u(n,"type","text"),u(n,"id",o=l[52]),n.required=!0,u(n,"placeholder","my-function")},m(d,_){w(d,e,_),a(e,t),w(d,i,_),w(d,n,_),Q(n,l[1].name),r||(c=F(n,"input",l[23]),r=!0)},p(d,_){_[1]&2097152&&s!==(s=d[52])&&u(e,"for",s),_[1]&2097152&&o!==(o=d[52])&&u(n,"id",o),_[0]&2&&n.value!==d[1].name&&Q(n,d[1].name)},d(d){d&&(k(e),k(i),k(n)),r=!1,c()}}}function Gt(l){let e,t,s,i,n,o,r,c;return{c(){e=f("label"),t=J("Description"),i=v(),n=f("textarea"),u(e,"for",s=l[52]),u(n,"id",o=l[52]),u(n,"placeholder","Function description...")},m(d,_){w(d,e,_),a(e,t),w(d,i,_),w(d,n,_),Q(n,l[1].description),r||(c=F(n,"input",l[24]),r=!0)},p(d,_){_[1]&2097152&&s!==(s=d[52])&&u(e,"for",s),_[1]&2097152&&o!==(o=d[52])&&u(n,"id",o),_[0]&2&&Q(n,d[1].description)},d(d){d&&(k(e),k(i),k(n)),r=!1,c()}}}function It(l){let e,t,s,i,n,o,r,c;return{c(){e=f("input"),s=v(),i=f("label"),n=J("Enabled"),u(e,"type","checkbox"),u(e,"id",t=l[52]),u(i,"for",o=l[52])},m(d,_){w(d,e,_),e.checked=l[1].enabled,w(d,s,_),w(d,i,_),a(i,n),r||(c=F(e,"change",l[25]),r=!0)},p(d,_){_[1]&2097152&&t!==(t=d[52])&&u(e,"id",t),_[0]&2&&(e.checked=d[1].enabled),_[1]&2097152&&o!==(o=d[52])&&u(i,"for",o)},d(d){d&&(k(e),k(s),k(i)),r=!1,c()}}}function Ut(l){let e,t,s,i,n,o,r,c;return{c(){e=f("label"),t=J("Timeout (seconds)"),i=v(),n=f("input"),u(e,"for",s=l[52]),u(n,"type","number"),u(n,"id",o=l[52]),n.required=!0,u(n,"min","1"),u(n,"max","300")},m(d,_){w(d,e,_),a(e,t),w(d,i,_),w(d,n,_),Q(n,l[1].timeout),r||(c=F(n,"input",l[26]),r=!0)},p(d,_){_[1]&2097152&&s!==(s=d[52])&&u(e,"for",s),_[1]&2097152&&o!==(o=d[52])&&u(n,"id",o),_[0]&2&&Ht(n.value)!==d[1].timeout&&Q(n,d[1].timeout)},d(d){d&&(k(e),k(i),k(n)),r=!1,c()}}}function jt(l){let e,t,s,i;return{c(){e=f("textarea"),u(e,"id",t=l[52]),e.required=!0,u(e,"placeholder","// Enter your JavaScript code here..."),u(e,"rows","10")},m(n,o){w(n,e,o),Q(e,l[1].code),s||(i=F(e,"input",l[28]),s=!0)},p(n,o){o[1]&2097152&&t!==(t=n[52])&&u(e,"id",t),o[0]&2&&Q(e,n[1].code)},i:Le,o:Le,d(n){n&&k(e),s=!1,i()}}}function Wt(l){let e,t,s,i;function n(c){l[27](c)}var o=l[4];function r(c,d){let _={language:"javascript",minHeight:300,placeholder:"// Enter your JavaScript code here..."};return c[1].code!==void 0&&(_.value=c[1].code),{props:_}}return o&&(e=it(o,r(l)),Oe.push(()=>at(e,"value",n))),{c(){e&&ee(e.$$.fragment),s=Ke()},m(c,d){e&&x(e,c,d),w(c,s,d),i=!0},p(c,d){if(d[0]&16&&o!==(o=c[4])){if(e){Se();const _=e;q(_.$$.fragment,1,0,()=>{Z(_,1)}),Me()}o?(e=it(o,r(c)),Oe.push(()=>at(e,"value",n)),ee(e.$$.fragment),O(e.$$.fragment,1),x(e,s.parentNode,s)):e=null}else if(o){const _={};!t&&d[0]&2&&(t=!0,_.value=c[1].code,Pt(()=>t=!1)),e.$set(_)}},i(c){i||(e&&O(e.$$.fragment,c),i=!0)},o(c){e&&q(e.$$.fragment,c),i=!1},d(c){c&&k(s),e&&Z(e,c)}}}function zt(l){let e,t,s,i,n,o,r,c;const d=[Wt,jt],_=[];function b(p,h){return p[4]?0:1}return n=b(l),o=_[n]=d[n](l),{c(){e=f("label"),t=J("JavaScript Code"),i=v(),o.c(),r=Ke(),u(e,"for",s=l[52])},m(p,h){w(p,e,h),a(e,t),w(p,i,h),_[n].m(p,h),w(p,r,h),c=!0},p(p,h){(!c||h[1]&2097152&&s!==(s=p[52]))&&u(e,"for",s);let g=n;n=b(p),n===g?_[n].p(p,h):(Se(),q(_[g],1,1,()=>{_[g]=null}),Me(),o=_[n],o?o.p(p,h):(o=_[n]=d[n](p),o.c()),O(o,1),o.m(r.parentNode,r))},i(p){c||(O(o),c=!0)},o(p){q(o),c=!1},d(p){p&&(k(e),k(i),k(r)),_[n].d(p)}}}function Kt(l){let e,t,s,i,n,o,r,c;function d(){l[29].call(e,l[51],l[47])}return{c(){e=f("select"),t=f("option"),t.textContent="GET",s=f("option"),s.textContent="POST",i=f("option"),i.textContent="PUT",n=f("option"),n.textContent="PATCH",o=f("option"),o.textContent="DELETE",t.__value="GET",Q(t,t.__value),s.__value="POST",Q(s,s.__value),i.__value="PUT",Q(i,i.__value),n.__value="PATCH",Q(n,n.__value),o.__value="DELETE",Q(o,o.__value),l[48].method===void 0&&Ct(d)},m(_,b){w(_,e,b),a(e,t),a(e,s),a(e,i),a(e,n),a(e,o),Be(e,l[48].method,!0),r||(c=[F(e,"change",d),F(e,"change",l[11])],r=!0)},p(_,b){l=_,b[0]&32&&Be(e,l[48].method)},d(_){_&&k(e),r=!1,Ee(c)}}}function Qt(l){let e,t,s;function i(){l[30].call(e,l[51],l[47])}return{c(){e=f("input"),u(e,"type","text"),u(e,"placeholder","/api/my-endpoint")},m(n,o){w(n,e,o),Q(e,l[48].path),t||(s=[F(e,"input",i),F(e,"input",l[11])],t=!0)},p(n,o){l=n,o[0]&32&&e.value!==l[48].path&&Q(e,l[48].path)},d(n){n&&k(e),t=!1,Ee(s)}}}function dt(l){let e,t,s,i,n,o,r,c,d,_,b;s=new ke({props:{class:"form-field flex-1",name:"method_"+l[47],$$slots:{default:[Kt]},$$scope:{ctx:l}}}),n=new ke({props:{class:"form-field flex-3",name:"path_"+l[47],$$slots:{default:[Qt]},$$scope:{ctx:l}}});function p(){return l[31](l[47])}return{c(){e=f("div"),t=f("div"),ee(s.$$.fragment),i=v(),ee(n.$$.fragment),o=v(),r=f("button"),r.innerHTML='<i class="ri-close-line"></i>',c=v(),u(r,"type","button"),u(r,"class","btn btn-xs btn-circle btn-hint"),u(r,"title","Remove"),u(t,"class","flex flex-gap-10"),u(e,"class","form-field-group")},m(h,g){w(h,e,g),a(e,t),x(s,t,null),a(t,i),x(n,t,null),a(t,o),a(t,r),a(e,c),d=!0,_||(b=F(r,"click",p),_=!0)},p(h,g){l=h;const T={};g[0]&32|g[1]&4194304&&(T.$$scope={dirty:g,ctx:l}),s.$set(T);const H={};g[0]&32|g[1]&4194304&&(H.$$scope={dirty:g,ctx:l}),n.$set(H)},i(h){d||(O(s.$$.fragment,h),O(n.$$.fragment,h),d=!0)},o(h){q(s.$$.fragment,h),q(n.$$.fragment,h),d=!1},d(h){h&&k(e),Z(s),Z(n),_=!1,b()}}}function Xt(l){let e,t,s;function i(){l[32].call(e,l[50],l[47])}return{c(){e=f("input"),u(e,"type","text"),u(e,"placeholder","collection_name")},m(n,o){w(n,e,o),Q(e,l[48].collection),t||(s=[F(e,"input",i),F(e,"input",l[11])],t=!0)},p(n,o){l=n,o[0]&64&&e.value!==l[48].collection&&Q(e,l[48].collection)},d(n){n&&k(e),t=!1,Ee(s)}}}function Yt(l){let e,t,s,i,n,o;function r(){l[33].call(e,l[50],l[47])}return{c(){e=f("select"),t=f("option"),t.textContent="Create",s=f("option"),s.textContent="Update",i=f("option"),i.textContent="Delete",t.__value="create",Q(t,t.__value),s.__value="update",Q(s,s.__value),i.__value="delete",Q(i,i.__value),l[48].event===void 0&&Ct(r)},m(c,d){w(c,e,d),a(e,t),a(e,s),a(e,i),Be(e,l[48].event,!0),n||(o=[F(e,"change",r),F(e,"change",l[11])],n=!0)},p(c,d){l=c,d[0]&64&&Be(e,l[48].event)},d(c){c&&k(e),n=!1,Ee(o)}}}function pt(l){let e,t,s,i,n,o,r,c,d,_,b;s=new ke({props:{class:"form-field flex-1",name:"collection_"+l[47],$$slots:{default:[Xt]},$$scope:{ctx:l}}}),n=new ke({props:{class:"form-field flex-1",name:"event_"+l[47],$$slots:{default:[Yt]},$$scope:{ctx:l}}});function p(){return l[34](l[47])}return{c(){e=f("div"),t=f("div"),ee(s.$$.fragment),i=v(),ee(n.$$.fragment),o=v(),r=f("button"),r.innerHTML='<i class="ri-close-line"></i>',c=v(),u(r,"type","button"),u(r,"class","btn btn-xs btn-circle btn-hint"),u(r,"title","Remove"),u(t,"class","flex flex-gap-10"),u(e,"class","form-field-group")},m(h,g){w(h,e,g),a(e,t),x(s,t,null),a(t,i),x(n,t,null),a(t,o),a(t,r),a(e,c),d=!0,_||(b=F(r,"click",p),_=!0)},p(h,g){l=h;const T={};g[0]&64|g[1]&4194304&&(T.$$scope={dirty:g,ctx:l}),s.$set(T);const H={};g[0]&64|g[1]&4194304&&(H.$$scope={dirty:g,ctx:l}),n.$set(H)},i(h){d||(O(s.$$.fragment,h),O(n.$$.fragment,h),d=!0)},o(h){q(s.$$.fragment,h),q(n.$$.fragment,h),d=!1},d(h){h&&k(e),Z(s),Z(n),_=!1,b()}}}function Zt(l){let e,t,s;function i(){l[35].call(e,l[49],l[47])}return{c(){e=f("input"),u(e,"type","text"),u(e,"placeholder","0 * * * *")},m(n,o){w(n,e,o),Q(e,l[48].schedule),t||(s=[F(e,"input",i),F(e,"input",l[11])],t=!0)},p(n,o){l=n,o[0]&128&&e.value!==l[48].schedule&&Q(e,l[48].schedule)},d(n){n&&k(e),t=!1,Ee(s)}}}function _t(l){let e,t,s,i,n,o,r,c,d;s=new ke({props:{class:"form-field flex-1",name:"schedule_"+l[47],$$slots:{default:[Zt]},$$scope:{ctx:l}}});function _(){return l[36](l[47])}return{c(){e=f("div"),t=f("div"),ee(s.$$.fragment),i=v(),n=f("button"),n.innerHTML='<i class="ri-close-line"></i>',o=v(),u(n,"type","button"),u(n,"class","btn btn-xs btn-circle btn-hint"),u(n,"title","Remove"),u(t,"class","flex flex-gap-10"),u(e,"class","form-field-group")},m(b,p){w(b,e,p),a(e,t),x(s,t,null),a(t,i),a(t,n),a(e,o),r=!0,c||(d=F(n,"click",_),c=!0)},p(b,p){l=b;const h={};p[0]&128|p[1]&4194304&&(h.$$scope={dirty:p,ctx:l}),s.$set(h)},i(b){r||(O(s.$$.fragment,b),r=!0)},o(b){q(s.$$.fragment,b),r=!1},d(b){b&&k(e),Z(s),c=!1,d()}}}function xt(l){let e,t,s;function i(){l[37].call(e,l[46],l[47])}return{c(){e=f("input"),u(e,"type","text"),u(e,"placeholder","VARIABLE_NAME")},m(n,o){w(n,e,o),Q(e,l[45].key),t||(s=[F(e,"input",i),F(e,"input",l[18])],t=!0)},p(n,o){l=n,o[0]&256&&e.value!==l[45].key&&Q(e,l[45].key)},d(n){n&&k(e),t=!1,Ee(s)}}}function el(l){let e,t,s;function i(){l[38].call(e,l[46],l[47])}return{c(){e=f("input"),u(e,"type","text"),u(e,"placeholder","variable_value")},m(n,o){w(n,e,o),Q(e,l[45].value),t||(s=[F(e,"input",i),F(e,"input",l[18])],t=!0)},p(n,o){l=n,o[0]&256&&e.value!==l[45].value&&Q(e,l[45].value)},d(n){n&&k(e),t=!1,Ee(s)}}}function bt(l){let e,t,s,i,n,o,r,c,d,_,b;s=new ke({props:{class:"form-field flex-1",name:"env_key_"+l[47],$$slots:{default:[xt]},$$scope:{ctx:l}}}),n=new ke({props:{class:"form-field flex-1",name:"env_value_"+l[47],$$slots:{default:[el]},$$scope:{ctx:l}}});function p(){return l[39](l[47])}return{c(){e=f("div"),t=f("div"),ee(s.$$.fragment),i=v(),ee(n.$$.fragment),o=v(),r=f("button"),r.innerHTML='<i class="ri-close-line"></i>',c=v(),u(r,"type","button"),u(r,"class","btn btn-xs btn-circle btn-hint"),u(r,"title","Remove"),u(t,"class","flex flex-gap-10"),u(e,"class","form-field-group")},m(h,g){w(h,e,g),a(e,t),x(s,t,null),a(t,i),x(n,t,null),a(t,o),a(t,r),a(e,c),d=!0,_||(b=F(r,"click",p),_=!0)},p(h,g){l=h;const T={};g[0]&256|g[1]&4194304&&(T.$$scope={dirty:g,ctx:l}),s.$set(T);const H={};g[0]&256|g[1]&4194304&&(H.$$scope={dirty:g,ctx:l}),n.$set(H)},i(h){d||(O(s.$$.fragment,h),O(n.$$.fragment,h),d=!0)},o(h){q(s.$$.fragment,h),q(n.$$.fragment,h),d=!1},d(h){h&&k(e),Z(s),Z(n),_=!1,b()}}}function tl(l){let e,t,s=l[9]?"New":"Edit",i,n,o,r,c,d,_,b,p,h,g,T,H,S=l[9]?"Create":"Save changes",N,G,P,M;const A=[Vt,Rt],W=[];function C(D,R){return D[3]?0:1}return c=C(l),d=W[c]=A[c](l),{c(){e=f("header"),t=f("h4"),i=J(s),n=J(" lambda function"),o=v(),r=f("div"),d.c(),_=v(),b=f("footer"),p=f("button"),h=J("Cancel"),g=v(),T=f("button"),H=f("span"),N=J(S),u(e,"class","panel-header"),u(r,"class","panel-content"),u(p,"type","button"),u(p,"class","btn btn-transparent"),p.disabled=l[3],u(H,"class","txt"),u(T,"type","button"),u(T,"class","btn btn-expanded"),T.disabled=l[3],u(b,"class","panel-footer")},m(D,R){w(D,e,R),a(e,t),a(t,i),a(t,n),w(D,o,R),w(D,r,R),W[c].m(r,null),w(D,_,R),w(D,b,R),a(b,p),a(p,h),a(b,g),a(b,T),a(T,H),a(H,N),G=!0,P||(M=[F(p,"click",l[0]),F(T,"click",l[10])],P=!0)},p(D,R){(!G||R[0]&512)&&s!==(s=D[9]?"New":"Edit")&&ce(i,s);let oe=c;c=C(D),c===oe?W[c].p(D,R):(Se(),q(W[oe],1,1,()=>{W[oe]=null}),Me(),d=W[c],d?d.p(D,R):(d=W[c]=A[c](D),d.c()),O(d,1),d.m(r,null)),(!G||R[0]&8)&&(p.disabled=D[3]),(!G||R[0]&512)&&S!==(S=D[9]?"Create":"Save changes")&&ce(N,S),(!G||R[0]&8)&&(T.disabled=D[3])},i(D){G||(O(d),G=!0)},o(D){q(d),G=!1},d(D){D&&(k(e),k(o),k(r),k(_),k(b)),W[c].d(),P=!1,Ee(M)}}}function ll(l){let e,t,s={class:"overlay-panel-lg edge-function-panel",beforeHide:l[40],$$slots:{default:[tl]},$$scope:{ctx:l}};return e=new je({props:s}),l[41](e),e.$on("hide",l[42]),{c(){ee(e.$$.fragment)},m(i,n){x(e,i,n),t=!0},p(i,n){const o={};n[0]&8&&(o.beforeHide=i[40]),n[0]&1018|n[1]&4194304&&(o.$$scope={dirty:n,ctx:i}),e.$set(o)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){q(e.$$.fragment,i),t=!1},d(i){l[41](null),Z(e,i)}}}function nl(l,e,t){let s;const i=We();let n,o={},r={},c=!1,d=null;function _($={}){p($),n==null||n.show()}function b(){n==null||n.hide()}function p($={}){if(t(3,c=!0),t(22,o=$),t(1,r={name:"",code:`// Enter your JavaScript code here

`,description:"",enabled:!0,timeout:30,triggers:{},env_vars:{},...$}),typeof r.triggers=="string")try{t(1,r.triggers=JSON.parse(r.triggers),r)}catch{t(1,r.triggers={},r)}if(typeof r.env_vars=="string")try{t(1,r.env_vars=JSON.parse(r.env_vars),r)}catch{t(1,r.env_vars={},r)}t(3,c=!1)}async function h(){if(!c){t(3,c=!0);try{let $;s?$=await Ne.send("/api/lambdas",{method:"POST",body:r}):$=await Ne.send(`/api/lambdas/${o.id}`,{method:"PATCH",body:r}),Ve(s?`Lambda function "${r.name}" was created.`:`Lambda function "${r.name}" was updated.`),b(),i("save",$)}catch($){Pe($)}t(3,c=!1)}}Nt(async()=>{try{const $=await Ot(()=>import("./CodeEditor-ByI5jKjc.js"),__vite__mapDeps([0,1,2,3]),import.meta.url);t(4,d=$.default)}catch($){console.warn("Failed to load CodeEditor component:",$)}});let g=[],T=[],H=[];function S(){t(1,r.triggers={...g.length&&{http:g},...T.length&&{database:T},...H.length&&{cron:H}},r)}function N(){t(5,g=[...g,{method:"GET",path:"/"}]),S()}function G($){t(5,g=g.filter((z,j)=>j!==$)),S()}function P(){t(6,T=[...T,{collection:"",event:"create"}]),S()}function M($){t(6,T=T.filter((z,j)=>j!==$)),S()}function A(){t(7,H=[...H,{schedule:"0 * * * *"}]),S()}function W($){t(7,H=H.filter((z,j)=>j!==$)),S()}let C=[];function D(){t(1,r.env_vars={},r),C.forEach(({key:$,value:z})=>{$.trim()&&t(1,r.env_vars[$.trim()]=z||"",r)})}function R(){t(8,C=[...C,{key:"",value:""}])}function oe($){t(8,C=C.filter((z,j)=>j!==$)),D()}function L(){r.name=this.value,t(1,r)}function V(){r.description=this.value,t(1,r)}function re(){r.enabled=this.checked,t(1,r)}function te(){r.timeout=Ht(this.value),t(1,r)}function Y($){l.$$.not_equal(r.code,$)&&(r.code=$,t(1,r))}function ge(){r.code=this.value,t(1,r)}function ye($,z){$[z].method=st(this),t(5,g),t(1,r)}function se($,z){$[z].path=this.value,t(5,g),t(1,r)}const fe=$=>G($);function me($,z){$[z].collection=this.value,t(6,T),t(1,r)}function ie($,z){$[z].event=st(this),t(6,T),t(1,r)}const _e=$=>M($);function le($,z){$[z].schedule=this.value,t(7,H),t(1,r)}const we=$=>W($);function ve($,z){$[z].key=this.value,t(8,C),t(1,r)}function be($,z){$[z].value=this.value,t(8,C),t(1,r)}const I=$=>oe($),He=()=>!c;function de($){Oe[$?"unshift":"push"](()=>{n=$,t(2,n)})}function K($){ze.call(this,l,$)}return l.$$.update=()=>{l.$$.dirty[0]&4194304&&t(9,s=!(o!=null&&o.id)),l.$$.dirty[0]&2&&r.triggers&&(t(5,g=r.triggers.http||[]),t(6,T=r.triggers.database||[]),t(7,H=r.triggers.cron||[])),l.$$.dirty[0]&2&&t(8,C=Object.entries(r.env_vars||{}).map(([$,z])=>({key:$,value:z})))},[b,r,n,c,d,g,T,H,C,s,h,S,N,G,P,M,A,W,D,R,oe,_,o,L,V,re,te,Y,ge,ye,se,fe,me,ie,_e,le,we,ve,be,I,He,de,K]}class sl extends Ge{constructor(e){super(),Ie(this,e,nl,ll,Ue,{show:21,hide:0},null,[-1,-1])}get show(){return this.$$.ctx[21]}get hide(){return this.$$.ctx[0]}}function il(l){let e,t,s,i,n,o,r,c,d,_;return{c(){e=f("label"),t=J("Input Data (JSON)"),i=v(),n=f("textarea"),r=v(),c=f("div"),c.innerHTML="Provide input data as JSON. This will be available as <code>$input</code> in your function.",u(e,"for",s=l[16]),u(n,"id",o=l[16]),u(n,"placeholder",'{"key": "value"}'),u(n,"rows","6"),n.disabled=l[5],u(c,"class","help-text")},m(b,p){w(b,e,p),a(e,t),w(b,i,p),w(b,n,p),Q(n,l[3]),w(b,r,p),w(b,c,p),d||(_=F(n,"input",l[10]),d=!0)},p(b,p){p&65536&&s!==(s=b[16])&&u(e,"for",s),p&65536&&o!==(o=b[16])&&u(n,"id",o),p&32&&(n.disabled=b[5]),p&8&&Q(n,b[3])},d(b){b&&(k(e),k(i),k(n),k(r),k(c)),d=!1,_()}}}function mt(l){let e,t,s;return{c(){e=f("button"),e.innerHTML='<i class="ri-refresh-line"></i> <span class="txt">Reset</span>',u(e,"type","button"),u(e,"class","btn btn-outline")},m(i,n){w(i,e,n),t||(s=F(e,"click",l[8]),t=!0)},p:Le,d(i){i&&k(e),t=!1,s()}}}function ht(l){let e;return{c(){e=f("div"),e.textContent="⚠️ Function is disabled and cannot be executed.",u(e,"class","help-text txt-warning")},m(t,s){w(t,e,s)},d(t){t&&k(e)}}}function gt(l){let e,t,s;return t=new ke({props:{class:"form-field",name:"output",$$slots:{default:[al,({uniqueId:i})=>({16:i}),({uniqueId:i})=>i?65536:0]},$$scope:{ctx:l}}}),{c(){e=f("div"),ee(t.$$.fragment),u(e,"class","col-12")},m(i,n){w(i,e,n),x(t,e,null),s=!0},p(i,n){const o={};n&196624&&(o.$$scope={dirty:n,ctx:i}),t.$set(o)},i(i){s||(O(t.$$.fragment,i),s=!0)},o(i){q(t.$$.fragment,i),s=!1},d(i){i&&k(e),Z(t)}}}function al(l){let e,t,s,i,n,o,r,c;return{c(){e=f("label"),t=J("Execution Result"),i=v(),n=f("textarea"),u(e,"for",s=l[16]),u(n,"id",o=l[16]),n.readOnly=!0,u(n,"rows","10"),u(n,"class","font-mono svelte-1lyl1a4")},m(d,_){w(d,e,_),a(e,t),w(d,i,_),w(d,n,_),Q(n,l[4]),r||(c=F(n,"input",l[11]),r=!0)},p(d,_){_&65536&&s!==(s=d[16])&&u(e,"for",s),_&65536&&o!==(o=d[16])&&u(n,"id",o),_&16&&Q(n,d[4])},d(d){d&&(k(e),k(i),k(n)),r=!1,c()}}}function ol(l){var Ae,Je,E,$e,Qe;let e,t,s,i=((Ae=l[2])==null?void 0:Ae.name)+"",n,o,r,c,d,_,b,p,h,g,T,H,S,N=((Je=l[2])==null?void 0:Je.name)+"",G,P,M,A,W,C,D=(E=l[2])!=null&&E.enabled?"Enabled":"Disabled",R,oe,L,V,re,te=(($e=l[2])==null?void 0:$e.timeout)+"",Y,ge,ye,se,fe,me,ie,_e,le,we,ve,be,I=l[5]?"Executing...":"Execute Function",He,de,K,$,z,j,De,pe,X,ae,m,y;fe=new ke({props:{class:"form-field",name:"input",$$slots:{default:[il,({uniqueId:B})=>({16:B}),({uniqueId:B})=>B?65536:0]},$$scope:{ctx:l}}});let U=l[6]&&mt(l),he=!((Qe=l[2])!=null&&Qe.enabled)&&ht(),ue=l[6]&&gt(l);return{c(){var B,ne,qe;e=f("header"),t=f("h4"),s=J("Execute: "),n=J(i),o=v(),r=f("div"),c=f("div"),d=f("div"),d.innerHTML='<div class="content txt-hint m-b-sm">Test your lambda function by providing input data and viewing the execution result.</div>',_=v(),b=f("div"),p=f("div"),p.innerHTML="<label>Function Details</label>",h=v(),g=f("div"),T=f("div"),H=f("strong"),H.textContent="Name:",S=v(),G=J(N),P=v(),M=f("div"),A=f("strong"),A.textContent="Status:",W=v(),C=f("span"),R=J(D),oe=v(),L=f("div"),V=f("strong"),V.textContent="Timeout:",re=v(),Y=J(te),ge=J("s"),ye=v(),se=f("div"),ee(fe.$$.fragment),me=v(),ie=f("div"),_e=f("div"),le=f("button"),we=f("i"),ve=v(),be=f("span"),He=J(I),K=v(),U&&U.c(),$=v(),he&&he.c(),z=v(),ue&&ue.c(),j=v(),De=f("footer"),pe=f("button"),X=J("Close"),u(e,"class","panel-header"),u(d,"class","col-12"),u(p,"class","field-group svelte-1lyl1a4"),u(T,"class","list-item"),u(C,"class","label"),Ce(C,"label-success",(B=l[2])==null?void 0:B.enabled),Ce(C,"label-hint",!((ne=l[2])!=null&&ne.enabled)),u(M,"class","list-item"),u(L,"class","list-item"),u(g,"class","list"),u(b,"class","col-12"),u(se,"class","col-12"),u(we,"class","ri-play-circle-line"),u(be,"class","txt"),u(le,"type","button"),u(le,"class","btn btn-expanded"),le.disabled=de=l[5]||!((qe=l[2])!=null&&qe.enabled),Ce(le,"btn-loading",l[5]),u(_e,"class","flex flex-gap-10"),u(ie,"class","col-12"),u(c,"class","grid"),u(r,"class","panel-content"),u(pe,"type","button"),u(pe,"class","btn btn-transparent"),pe.disabled=l[5],u(De,"class","panel-footer")},m(B,ne){w(B,e,ne),a(e,t),a(t,s),a(t,n),w(B,o,ne),w(B,r,ne),a(r,c),a(c,d),a(c,_),a(c,b),a(b,p),a(b,h),a(b,g),a(g,T),a(T,H),a(T,S),a(T,G),a(g,P),a(g,M),a(M,A),a(M,W),a(M,C),a(C,R),a(g,oe),a(g,L),a(L,V),a(L,re),a(L,Y),a(L,ge),a(c,ye),a(c,se),x(fe,se,null),a(c,me),a(c,ie),a(ie,_e),a(_e,le),a(le,we),a(le,ve),a(le,be),a(be,He),a(_e,K),U&&U.m(_e,null),a(ie,$),he&&he.m(ie,null),a(c,z),ue&&ue.m(c,null),w(B,j,ne),w(B,De,ne),a(De,pe),a(pe,X),ae=!0,m||(y=[F(le,"click",l[7]),F(pe,"click",l[0])],m=!0)},p(B,ne){var Xe,Ye,Ze,xe,et,tt,lt,nt;(!ae||ne&4)&&i!==(i=((Xe=B[2])==null?void 0:Xe.name)+"")&&ce(n,i),(!ae||ne&4)&&N!==(N=((Ye=B[2])==null?void 0:Ye.name)+"")&&ce(G,N),(!ae||ne&4)&&D!==(D=(Ze=B[2])!=null&&Ze.enabled?"Enabled":"Disabled")&&ce(R,D),(!ae||ne&4)&&Ce(C,"label-success",(xe=B[2])==null?void 0:xe.enabled),(!ae||ne&4)&&Ce(C,"label-hint",!((et=B[2])!=null&&et.enabled)),(!ae||ne&4)&&te!==(te=((tt=B[2])==null?void 0:tt.timeout)+"")&&ce(Y,te);const qe={};ne&196648&&(qe.$$scope={dirty:ne,ctx:B}),fe.$set(qe),(!ae||ne&32)&&I!==(I=B[5]?"Executing...":"Execute Function")&&ce(He,I),(!ae||ne&36&&de!==(de=B[5]||!((lt=B[2])!=null&&lt.enabled)))&&(le.disabled=de),(!ae||ne&32)&&Ce(le,"btn-loading",B[5]),B[6]?U?U.p(B,ne):(U=mt(B),U.c(),U.m(_e,null)):U&&(U.d(1),U=null),(nt=B[2])!=null&&nt.enabled?he&&(he.d(1),he=null):he||(he=ht(),he.c(),he.m(ie,null)),B[6]?ue?(ue.p(B,ne),ne&64&&O(ue,1)):(ue=gt(B),ue.c(),O(ue,1),ue.m(c,null)):ue&&(Se(),q(ue,1,1,()=>{ue=null}),Me()),(!ae||ne&32)&&(pe.disabled=B[5])},i(B){ae||(O(fe.$$.fragment,B),O(ue),ae=!0)},o(B){q(fe.$$.fragment,B),q(ue),ae=!1},d(B){B&&(k(e),k(o),k(r),k(j),k(De)),Z(fe),U&&U.d(),he&&he.d(),ue&&ue.d(),m=!1,Ee(y)}}}function rl(l){let e,t,s={class:"overlay-panel-lg execute-panel",beforeHide:l[12],$$slots:{default:[ol]},$$scope:{ctx:l}};return e=new je({props:s}),l[13](e),e.$on("hide",l[14]),{c(){ee(e.$$.fragment)},m(i,n){x(e,i,n),t=!0},p(i,[n]){const o={};n&32&&(o.beforeHide=i[12]),n&131196&&(o.$$scope={dirty:n,ctx:i}),e.$set(o)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){q(e.$$.fragment,i),t=!1},d(i){l[13](null),Z(e,i)}}}function ul(l,e,t){We();let s,i={},n="{}",o="",r=!1,c=!1;function d(N){t(2,i=N),t(3,n="{}"),t(4,o=""),t(6,c=!1),s==null||s.show()}function _(){s==null||s.hide()}async function b(){if(!r){t(5,r=!0);try{let N={};if(n.trim())try{N=JSON.parse(n)}catch(P){throw new Error("Invalid JSON input: "+P.message)}const G=await Ne.send(`/api/lambdas/${i.id}/execute`,{method:"POST",body:{input:N}});t(4,o=JSON.stringify(G,null,2)),t(6,c=!0),Ve("Function executed successfully")}catch(N){t(4,o=JSON.stringify({error:N.message||"Execution failed",timestamp:new Date().toISOString()},null,2)),t(6,c=!0),Pe(N)}t(5,r=!1)}}function p(){t(4,o=""),t(6,c=!1)}function h(){n=this.value,t(3,n)}function g(){o=this.value,t(4,o)}const T=()=>!r;function H(N){Oe[N?"unshift":"push"](()=>{s=N,t(1,s)})}function S(N){ze.call(this,l,N)}return[_,s,i,n,o,r,c,b,p,d,h,g,T,H,S]}class cl extends Ge{constructor(e){super(),Ie(this,e,ul,rl,Ue,{show:9,hide:0})}get show(){return this.$$.ctx[9]}get hide(){return this.$$.ctx[0]}}function vt(l,e,t){const s=l.slice();return s[10]=e[t],s}function fl(l){let e,t,s,i,n,o,r=[],c=new Map,d=Te(l[3]);const _=b=>b[10].id;for(let b=0;b<d.length;b+=1){let p=vt(l,d,b),h=_(p);c.set(h,r[b]=$t(h,p))}return{c(){e=f("div"),t=f("div"),s=f("table"),i=f("thead"),i.innerHTML="<tr><th>Status</th> <th>Trigger</th> <th>Duration</th> <th>Timestamp</th> <th>Output/Error</th></tr>",n=v(),o=f("tbody");for(let b=0;b<r.length;b+=1)r[b].c();u(s,"class","table"),u(t,"class","table-wrapper"),u(e,"class","col-12")},m(b,p){w(b,e,p),a(e,t),a(t,s),a(s,i),a(s,n),a(s,o);for(let h=0;h<r.length;h+=1)r[h]&&r[h].m(o,null)},p(b,p){p&8&&(d=Te(b[3]),r=St(r,p,_,1,b,d,c,o,Mt,$t,null,vt))},d(b){b&&k(e);for(let p=0;p<r.length;p+=1)r[p].d()}}}function dl(l){let e;return{c(){e=f("div"),e.innerHTML='<div class="block txt-center txt-hint"><h6>No execution logs found.</h6> <p>Logs will appear here after the function is executed.</p></div>',u(e,"class","col-12")},m(t,s){w(t,e,s)},p:Le,d(t){t&&k(e)}}}function pl(l){let e;return{c(){e=f("div"),e.innerHTML='<div class="block txt-center"><span class="loader"></span></div>',u(e,"class","col-12")},m(t,s){w(t,e,s)},p:Le,d(t){t&&k(e)}}}function _l(l){let e,t=l[10].error+"",s;return{c(){e=f("pre"),s=J(t),u(e,"class","error-content")},m(i,n){w(i,e,n),a(e,s)},p(i,n){n&8&&t!==(t=i[10].error+"")&&ce(s,t)},d(i){i&&k(e)}}}function bl(l){let e;function t(n,o){return n[10].output?hl:ml}let s=t(l),i=s(l);return{c(){i.c(),e=Ke()},m(n,o){i.m(n,o),w(n,e,o)},p(n,o){s===(s=t(n))&&i?i.p(n,o):(i.d(1),i=s(n),i&&(i.c(),i.m(e.parentNode,e)))},d(n){n&&k(e),i.d(n)}}}function ml(l){let e;return{c(){e=f("span"),e.textContent="No output",u(e,"class","txt-hint")},m(t,s){w(t,e,s)},p:Le,d(t){t&&k(e)}}}function hl(l){let e,t=Tt(l[10].output)+"",s;return{c(){e=f("pre"),s=J(t),u(e,"class","output-content")},m(i,n){w(i,e,n),a(e,s)},p(i,n){n&8&&t!==(t=Tt(i[10].output)+"")&&ce(s,t)},d(i){i&&k(e)}}}function $t(l,e){let t,s,i,n=e[10].success?"Success":"Error",o,r,c,d,_,b=e[10].trigger_type+"",p,h,g,T,H=wt(e[10].duration_ms)+"",S,N,G,P,M=Fe.formatToLocalDate(e[10].timestamp)+"",A,W,C,D,R;function oe(re,te){return re[10].success?bl:_l}let L=oe(e),V=L(e);return{key:l,first:null,c(){t=f("tr"),s=f("td"),i=f("span"),o=J(n),c=v(),d=f("td"),_=f("span"),p=J(b),h=v(),g=f("td"),T=f("span"),S=J(H),N=v(),G=f("td"),P=f("span"),A=J(M),W=v(),C=f("td"),D=f("div"),V.c(),R=v(),u(i,"class",r="label "+kt(e[10].success)),u(_,"class","txt"),u(T,"class","txt"),u(P,"class","txt-hint"),u(D,"class","log-content"),this.first=t},m(re,te){w(re,t,te),a(t,s),a(s,i),a(i,o),a(t,c),a(t,d),a(d,_),a(_,p),a(t,h),a(t,g),a(g,T),a(T,S),a(t,N),a(t,G),a(G,P),a(P,A),a(t,W),a(t,C),a(C,D),V.m(D,null),a(t,R)},p(re,te){e=re,te&8&&n!==(n=e[10].success?"Success":"Error")&&ce(o,n),te&8&&r!==(r="label "+kt(e[10].success))&&u(i,"class",r),te&8&&b!==(b=e[10].trigger_type+"")&&ce(p,b),te&8&&H!==(H=wt(e[10].duration_ms)+"")&&ce(S,H),te&8&&M!==(M=Fe.formatToLocalDate(e[10].timestamp)+"")&&ce(A,M),L===(L=oe(e))&&V?V.p(e,te):(V.d(1),V=L(e),V&&(V.c(),V.m(D,null)))},d(re){re&&k(t),V.d()}}}function gl(l){var W;let e,t,s,i=((W=l[2])==null?void 0:W.name)+"",n,o,r,c,d,_,b,p,h,g,T,H,S,N,G;c=new Dt({props:{class:"btn-sm"}}),c.$on("refresh",l[5]);function P(C,D){return C[4]?pl:C[3].length?fl:dl}let M=P(l),A=M(l);return{c(){e=f("header"),t=f("h4"),s=J("Logs: "),n=J(i),o=v(),r=f("div"),ee(c.$$.fragment),d=v(),_=f("div"),b=f("div"),p=f("div"),p.innerHTML='<div class="content txt-hint m-b-sm">Execution logs and history for this lambda function.</div>',h=v(),A.c(),g=v(),T=f("footer"),H=f("button"),H.textContent="Close",u(r,"class","flex flex-gap-10"),u(e,"class","panel-header"),u(p,"class","col-12"),u(b,"class","grid"),u(_,"class","panel-content"),u(H,"type","button"),u(H,"class","btn btn-transparent"),u(T,"class","panel-footer")},m(C,D){w(C,e,D),a(e,t),a(t,s),a(t,n),a(e,o),a(e,r),x(c,r,null),w(C,d,D),w(C,_,D),a(_,b),a(b,p),a(b,h),A.m(b,null),w(C,g,D),w(C,T,D),a(T,H),S=!0,N||(G=F(H,"click",l[0]),N=!0)},p(C,D){var R;(!S||D&4)&&i!==(i=((R=C[2])==null?void 0:R.name)+"")&&ce(n,i),M===(M=P(C))&&A?A.p(C,D):(A.d(1),A=M(C),A&&(A.c(),A.m(b,null)))},i(C){S||(O(c.$$.fragment,C),S=!0)},o(C){q(c.$$.fragment,C),S=!1},d(C){C&&(k(e),k(d),k(_),k(g),k(T)),Z(c),A.d(),N=!1,G()}}}function vl(l){let e,t,s={class:"overlay-panel-xl logs-panel",$$slots:{default:[gl]},$$scope:{ctx:l}};return e=new je({props:s}),l[7](e),e.$on("hide",l[8]),{c(){ee(e.$$.fragment)},m(i,n){x(e,i,n),t=!0},p(i,[n]){const o={};n&8220&&(o.$$scope={dirty:n,ctx:i}),e.$set(o)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){q(e.$$.fragment,i),t=!1},d(i){l[7](null),Z(e,i)}}}function kt(l){return l?"label-success":"label-danger"}function wt(l){return l<1e3?`${l}ms`:`${(l/1e3).toFixed(2)}s`}function Tt(l){return typeof l=="string"?l:JSON.stringify(l,null,2)}function $l(l,e,t){We();let s,i={},n=[],o=!1;function r(p){t(2,i=p),t(3,n=[]),d(),s==null||s.show()}function c(){s==null||s.hide()}async function d(){if(i!=null&&i.id){t(4,o=!0);try{const p=await Ne.send(`/api/lambdas/${i.id}/logs`,{method:"GET"});t(3,n=p.logs||[])}catch(p){p!=null&&p.isAbort||Pe(p)}t(4,o=!1)}}function _(p){Oe[p?"unshift":"push"](()=>{s=p,t(1,s)})}function b(p){ze.call(this,l,p)}return[c,s,i,n,o,d,r,_,b]}class kl extends Ge{constructor(e){super(),Ie(this,e,$l,vl,Ue,{show:6,hide:0})}get show(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[0]}}function Lt(l,e,t){const s=l.slice();return s[25]=e[t],s}function wl(l){let e,t,s,i,n,o=[],r=new Map,c=Te(l[0]);const d=_=>_[25].id;for(let _=0;_<c.length;_+=1){let b=Lt(l,c,_),p=d(b);r.set(p,o[_]=yt(p,b))}return{c(){e=f("div"),t=f("table"),s=f("thead"),s.innerHTML='<tr><th>Name</th> <th>Status</th> <th>Timeout</th> <th>Created</th> <th>Updated</th> <th class="min-width"></th></tr>',i=v(),n=f("tbody");for(let _=0;_<o.length;_+=1)o[_].c();u(t,"class","table"),u(e,"class","table-wrapper")},m(_,b){w(_,e,b),a(e,t),a(t,s),a(t,i),a(t,n);for(let p=0;p<o.length;p+=1)o[p]&&o[p].m(n,null)},p(_,b){b&7937&&(c=Te(_[0]),o=St(o,b,d,1,_,c,r,n,Mt,yt,null,Lt))},d(_){_&&k(e);for(let b=0;b<o.length;b+=1)o[b].d()}}}function Tl(l){let e,t,s,i,n,o;return{c(){e=f("div"),t=f("h6"),t.textContent="No lambda functions found.",s=v(),i=f("button"),i.innerHTML='<i class="ri-add-line"></i> <span class="txt">Create your first function</span>',u(i,"type","button"),u(i,"class","btn btn-sm btn-outline"),u(e,"class","block txt-center txt-hint")},m(r,c){w(r,e,c),a(e,t),a(e,s),a(e,i),n||(o=F(i,"click",l[18]),n=!0)},p:Le,d(r){r&&k(e),n=!1,o()}}}function Ll(l){let e;return{c(){e=f("div"),e.innerHTML='<span class="loader"></span>',u(e,"class","block txt-center")},m(t,s){w(t,e,s)},p:Le,d(t){t&&k(e)}}}function Et(l){let e,t,s=l[25].description+"",i;return{c(){e=f("span"),t=J("- "),i=J(s),u(e,"class","txt-hint")},m(n,o){w(n,e,o),a(e,t),a(e,i)},p(n,o){o&1&&s!==(s=n[25].description+"")&&ce(i,s)},d(n){n&&k(e)}}}function yt(l,e){let t,s,i,n,o=e[25].name+"",r,c,d,_,b,p=e[25].enabled?"Enabled":"Disabled",h,g,T,H,S=e[25].timeout+"",N,G,P,M,A,W=Fe.formatToLocalDate(e[25].created)+"",C,D,R,oe,L=Fe.formatToLocalDate(e[25].updated)+"",V,re,te,Y,ge,ye,se,fe,me,ie,_e,le,we,ve,be,I,He,de,K,$=e[25].description&&Et(e);function z(){return e[19](e[25])}function j(){return e[20](e[25])}function De(){return e[21](e[25])}function pe(){return e[22](e[25])}function X(){return e[23](e[25])}return{key:l,first:null,c(){t=f("tr"),s=f("td"),i=f("div"),n=f("strong"),r=J(o),c=v(),$&&$.c(),d=v(),_=f("td"),b=f("span"),h=J(p),g=v(),T=f("td"),H=f("span"),N=J(S),G=J("s"),P=v(),M=f("td"),A=f("span"),C=J(W),D=v(),R=f("td"),oe=f("span"),V=J(L),re=v(),te=f("td"),Y=f("div"),ge=f("button"),ge.innerHTML='<i class="ri-play-circle-line"></i>',ye=v(),se=f("button"),se.innerHTML='<i class="ri-file-list-3-line"></i>',fe=v(),me=f("button"),ie=f("i"),we=v(),ve=f("button"),ve.innerHTML='<i class="ri-edit-line"></i>',be=v(),I=f("button"),I.innerHTML='<i class="ri-delete-bin-7-line"></i>',He=v(),u(n,"class","txt"),u(i,"class","flex flex-gap-10"),u(b,"class","label"),Ce(b,"label-success",e[25].enabled),Ce(b,"label-hint",!e[25].enabled),u(H,"class","txt"),u(A,"class","txt-hint"),u(oe,"class","txt-hint"),u(ge,"type","button"),u(ge,"class","btn btn-xs btn-circle btn-hint"),u(ge,"title","Execute function"),u(se,"type","button"),u(se,"class","btn btn-xs btn-circle btn-hint"),u(se,"title","View logs"),u(ie,"class",_e="ri-"+(e[25].enabled?"pause":"play")+"-circle-line"),u(me,"type","button"),u(me,"class","btn btn-xs btn-circle btn-hint"),u(me,"title",le=e[25].enabled?"Disable":"Enable"),u(ve,"type","button"),u(ve,"class","btn btn-xs btn-circle btn-hint"),u(ve,"title","Edit function"),u(I,"type","button"),u(I,"class","btn btn-xs btn-circle btn-hint"),u(I,"title","Delete function"),u(Y,"class","inline-flex"),u(te,"class","min-width nowrap"),u(t,"class","row-handle"),this.first=t},m(ae,m){w(ae,t,m),a(t,s),a(s,i),a(i,n),a(n,r),a(i,c),$&&$.m(i,null),a(t,d),a(t,_),a(_,b),a(b,h),a(t,g),a(t,T),a(T,H),a(H,N),a(H,G),a(t,P),a(t,M),a(M,A),a(A,C),a(t,D),a(t,R),a(R,oe),a(oe,V),a(t,re),a(t,te),a(te,Y),a(Y,ge),a(Y,ye),a(Y,se),a(Y,fe),a(Y,me),a(me,ie),a(Y,we),a(Y,ve),a(Y,be),a(Y,I),a(t,He),de||(K=[F(ge,"click",z),F(se,"click",j),F(me,"click",De),F(ve,"click",pe),F(I,"click",X)],de=!0)},p(ae,m){e=ae,m&1&&o!==(o=e[25].name+"")&&ce(r,o),e[25].description?$?$.p(e,m):($=Et(e),$.c(),$.m(i,null)):$&&($.d(1),$=null),m&1&&p!==(p=e[25].enabled?"Enabled":"Disabled")&&ce(h,p),m&1&&Ce(b,"label-success",e[25].enabled),m&1&&Ce(b,"label-hint",!e[25].enabled),m&1&&S!==(S=e[25].timeout+"")&&ce(N,S),m&1&&W!==(W=Fe.formatToLocalDate(e[25].created)+"")&&ce(C,W),m&1&&L!==(L=Fe.formatToLocalDate(e[25].updated)+"")&&ce(V,L),m&1&&_e!==(_e="ri-"+(e[25].enabled?"pause":"play")+"-circle-line")&&u(ie,"class",_e),m&1&&le!==(le=e[25].enabled?"Disable":"Enable")&&u(me,"title",le)},d(ae){ae&&k(t),$&&$.d(),de=!1,Ee(K)}}}function El(l){let e,t,s,i,n,o,r,c,d,_,b,p,h,g,T,H,S;b=new Dt({props:{class:"btn-sm"}}),b.$on("refresh",l[6]);function N(M,A){return M[1]?Ll:M[0].length?wl:Tl}let G=N(l),P=G(l);return{c(){e=f("header"),t=f("nav"),s=f("div"),i=J(l[5]),n=v(),o=f("div"),r=f("div"),c=f("div"),d=f("span"),d.textContent="Lambda Functions",_=v(),ee(b.$$.fragment),p=v(),h=f("button"),h.innerHTML='<i class="ri-add-line"></i> <span class="txt">New function</span>',g=v(),P.c(),u(s,"class","breadcrumb-item"),u(t,"class","breadcrumbs"),u(e,"class","page-header"),u(d,"class","txt-xl"),u(h,"type","button"),u(h,"class","btn btn-sm btn-outline"),u(c,"class","flex m-b-sm flex-gap-10"),u(r,"class","panel"),u(o,"class","wrapper")},m(M,A){w(M,e,A),a(e,t),a(t,s),a(s,i),w(M,n,A),w(M,o,A),a(o,r),a(r,c),a(c,d),a(c,_),x(b,c,null),a(c,p),a(c,h),a(r,g),P.m(r,null),T=!0,H||(S=F(h,"click",l[17]),H=!0)},p(M,A){(!T||A&32)&&ce(i,M[5]),G===(G=N(M))&&P?P.p(M,A):(P.d(1),P=G(M),P&&(P.c(),P.m(r,null)))},i(M){T||(O(b.$$.fragment,M),T=!0)},o(M){q(b.$$.fragment,M),T=!1},d(M){M&&(k(e),k(n),k(o)),Z(b),P.d(),H=!1,S()}}}function yl(l){let e,t,s,i,n,o,r,c,d={};e=new sl({props:d}),l[14](e),e.$on("save",l[6]);let _={};s=new cl({props:_}),l[15](s);let b={};return n=new kl({props:b}),l[16](n),r=new Ft({props:{$$slots:{default:[El]},$$scope:{ctx:l}}}),{c(){ee(e.$$.fragment),t=v(),ee(s.$$.fragment),i=v(),ee(n.$$.fragment),o=v(),ee(r.$$.fragment)},m(p,h){x(e,p,h),w(p,t,h),x(s,p,h),w(p,i,h),x(n,p,h),w(p,o,h),x(r,p,h),c=!0},p(p,[h]){const g={};e.$set(g);const T={};s.$set(T);const H={};n.$set(H);const S={};h&268435491&&(S.$$scope={dirty:h,ctx:p}),r.$set(S)},i(p){c||(O(e.$$.fragment,p),O(s.$$.fragment,p),O(n.$$.fragment,p),O(r.$$.fragment,p),c=!0)},o(p){q(e.$$.fragment,p),q(s.$$.fragment,p),q(n.$$.fragment,p),q(r.$$.fragment,p),c=!1},d(p){p&&(k(t),k(i),k(o)),l[14](null),Z(e,p),l[15](null),Z(s,p),l[16](null),Z(n,p),Z(r,p)}}}function Hl(l,e,t){let s;At(l,ot,L=>t(5,s=L)),Jt(ot,s="Lambda Functions",s);let i=[],n=!1,o,r,c;const d={};async function _(){t(1,n=!0);try{console.log("Loading lambda functions...");const L=await Ne.send("/api/lambdas",{method:"GET"});console.log("Lambda functions response:",L),t(0,i=L||[])}catch(L){console.error("Error loading lambda functions:",L),L!=null&&L.isAbort||Pe(L)}t(1,n=!1)}function b(){o==null||o.show()}async function p(L){try{const V=await Ne.send(`/api/lambdas/${L.id}`,{method:"GET"});o==null||o.show(V)}catch(V){Pe(V)}}function h(L){r==null||r.show(L)}function g(L){c==null||c.show(L)}async function T(L){return qt(`Are you sure you want to delete "${L.name}"?`,{title:"Delete lambda function",yesText:"Delete"})}async function H(L){if(await T(L))try{await Ne.send(`/api/lambdas/${L.id}`,{method:"DELETE"}),Ve(`Lambda function "${L.name}" was deleted.`),_()}catch(V){Pe(V)}}async function S(L){try{await Ne.send(`/api/lambdas/${L.id}`,{method:"PATCH",body:{enabled:!L.enabled}});const V=L.enabled?"disabled":"enabled";Ve(`Lambda function "${L.name}" was ${V}.`),_()}catch(V){Pe(V)}}_();function N(L){Oe[L?"unshift":"push"](()=>{o=L,t(2,o)})}function G(L){Oe[L?"unshift":"push"](()=>{r=L,t(3,r)})}function P(L){Oe[L?"unshift":"push"](()=>{c=L,t(4,c)})}return[i,n,o,r,c,s,_,b,p,h,g,H,S,d,N,G,P,()=>b(),()=>b(),L=>h(L),L=>g(L),L=>S(L),L=>p(L),L=>H(L)]}class Dl extends Ge{constructor(e){super(),Ie(this,e,Hl,yl,Ue,{queryParams:13})}get queryParams(){return this.$$.ctx[13]}}export{Dl as default};
